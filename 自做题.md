
---
merge sort + count inv
```python
n = int(input())
num_list = [int(i) for i in input().split()]
inv = 0

def merge_sort(L,R):
    global num_list, inv
    if L+1 >= R:
        return
    mid = (L + R) // 2
    merge_sort(L,mid)
    merge_sort(mid,R)
    index_left = L
    index_right = mid
    combined_list = []
    while True:
        if index_left >= mid or index_right >= R:
            break
        if num_list[index_left] <= num_list[index_right]:
            combined_list.append(num_list[index_left])
            index_left += 1
        else:
            combined_list.append(num_list[index_right])
            inv += mid - index_left
            index_right += 1
    while index_left < mid:
        combined_list.append(num_list[index_left])
        index_left += 1
    while index_right < R:
        combined_list.append(num_list[index_right])
        index_right += 1
    for i in range(L,R):
        num_list[i] = combined_list[i - L]

merge_sort(0,n)
print(inv)

```
![[Pasted image 20251016161802.png]]

---
å…«çš‡åï¼Œeasyï¼
```python
import sys
solutions = []
def judge(x):
    a = []
    while x > 0:
        a.append(x%10)
        x //= 10
    for i in range(1,len(a)):
        if a[i] == a[0]:
            return False
        if abs(a[i] - a[0]) == abs(i):
            return False
    return True
def search(x):
    global solutions
    if x > 1e7:
        solutions.append(x)
        return
    for i in range(1,9):
        if judge(x * 10 + i):
            search(x * 10 + i)
search(0)
lines = sys.stdin.read().splitlines()
for i in lines[1::]:
    print(solutions[int(i)-1])

```
![[Pasted image 20251016163004.png]]

---
å¿«é€Ÿå¹‚+é«˜ç²¾åº¦ å°èœä¸€ç¢Ÿ
```python
import math
def mod_multiplication(a,b):
    result = [0] * (len(a) + len(b) + 1)
    for i in range(len(a)):
        for j in range(len(b)):
            result[i + j] += a[i] * b[j]
    for i in range(len(result)-1):
        if result[i] >= 10:
            result[i+1] += result[i] // 10
            result[i] %= 10
    return result[:500:]
def quick_exp(a,p):
    result = [1]
    factor = a
    while p > 0:
        if p & 1:
            result = mod_multiplication(result,factor)
        p >>= 1
        factor = mod_multiplication(factor,factor)
    return result
p = int(input())
print(int(math.log10(2) * p) + 1)
result = quick_exp([2],p)
result[0] -= 1
for i in range(499,-1,-1):
    if i >= len(result):
        print('0',end='')
    else:
        print(result[i],end='')
    if not (i % 50) :
        print()

```

![[Pasted image 20251016164755.png]]

---

æ·±æœï¼Œä½†æˆ‘æ„Ÿè§‰æˆ‘è¿™ä¸ªè§£æ³•Lowçˆ†äº†
```python
bitmap = []
manip = []
dirx = [0,0,-1,0,1]
diry = [0,1,0,-1,0]
#-----------------------------#
def printmap(lists):
    for i in range(5):
        for j in range(6):
            print(1 if lists[i][j] else 0,end=' ')
        print()
#-----------------------------#

for i in range(5):
    bitmap.append([True if _=='1' else False for _ in input().split()])
    manip.append([False]*6)

def search(kx,ky):
    if ky >= 6:
        return search(kx+1,ky-6)
    global manip,bitmap
    #--------------
    #print(f'kx={kx} ky={ky}')
    #print('manip')
    #printmap(manip)
    #print('bitmap')
    #printmap(bitmap)
    #--------------
    if kx==5:
        for i in range(6):
            if bitmap[4][i]:
                return False
        #print('solution found')
        return True
    for state in [True, False]:
        manip[kx][ky] = state
        # forward
        if state:
            for d in range(5):
                posx = kx + dirx[d]
                posy = ky + diry[d]
                if 0 <= posx < 5 and 0 <= posy < 6:
                    bitmap[posx][posy] = not bitmap[posx][posy]
        posx = kx - 1
        if (posx < 0) or (posx >= 0 and (not bitmap[posx][ky])):
            if search(kx, ky + 1):
                return True
        # recursion
        if state:
            for d in range(5):
                posx = kx + dirx[d]
                posy = ky + diry[d]
                if 0 <= posx < 5 and 0 <= posy < 6:
                    bitmap[posx][posy] = not bitmap[posx][posy]
search(0,0)
printmap(manip)
```
ä¼˜åŒ–äº†ä¸€ä¸‹ï¼š
```python
bitmap = []
manip = []
dirx = [0,0,-1,0,1]
diry = [0,1,0,-1,0]
#-----------------------------#
def printmap(lists):
    for i in range(5):
        for j in range(6):
            print(1 if lists[i][j] else 0,end=' ')
        print()
#-----------------------------#
for i in range(5):
    bitmap.append([True if _=='1' else False for _ in input().split()])
    manip.append([False]*6)

def stamp(kx,ky,state):
    if not state:
        return
    global bitmap
    for d in range(5):
        posx = kx + dirx[d]
        posy = ky + diry[d]
        if 0 <= posx < 5 and 0 <= posy < 6:
            bitmap[posx][posy] = not bitmap[posx][posy]
    return
def search(kx,ky):
    if ky >= 6:
        return search(kx + 1,ky - 6)
    global manip,bitmap
    #--------------
    if kx==5:
        for i in range(6):
            if bitmap[4][i]:
                return False
        return True
    #----------------------
    if kx == 0:
        for state in [True, False]:
            manip[kx][ky] = state
            stamp(kx,ky,state) # forward
            if search(kx, ky + 1):
                return True
            stamp(kx,ky,state) # recursion
        return False
    #--------kx > 0--------
    state = bitmap[kx - 1][ky]
    manip[kx][ky] = state
    stamp(kx,ky,state) # forward
    posx = kx - 1
    if search(kx, ky + 1):
        return True
    stamp(kx,ky,state) # recursion
    #----------------------
    return False
search(0,0)
printmap(manip)

```
![[Pasted image 20251016174239.png]]
åº”è¯¥æœ‰æ›´åŠ èªæ˜çš„è§£æ³•ï¼ˆï¼Ÿï¼‰

---

ç„¡ç¥é«˜é¢˜ï¼š

è€ƒè™‘ä¸²Aå’Œä¸²Bï¼Œä»ä¸²Aå˜åˆ°ä¸²Bçš„æ‰€æœ‰æ–¹æ³•å®é™…ä¸Šéƒ½ç­‰ä»·äºä»
$$
000\dots0\to A \oplus B
$$
å› ä¸ºä»»ä½•çš„ä¸²Séƒ½å¯ä»¥æ˜ å°„ä¸º$S \oplus A$ , ä¸”ä½çš„ç›¸å¯¹å¼‚åŒæƒ…å†µä¸å˜

å› æ­¤å®é™…ä¸Šåªéœ€è¦è€ƒè™‘
$$
000\dots0\to S_1 \to S_2 \to \dots \to A \oplus B
$$
ç»´æŠ¤ä¸€ä¸ªæ•°ç»„ $\rm dp[step][diff]$ï¼Œè¡¨ç¤ºä»$000\dots0$å‡ºå‘åˆ°æ‰€æœ‰çš„ä¸²Sæ»¡è¶³Sä¸­æœ‰$\rm diff$ä¸ª1çš„æ€»æ–¹æ³•æ•°

å¯¹äºä»»æ„ä¸€ä¸ªæœ‰$\rm diff$ä¸ª1çš„ä¸²$S$, å¯ä»¥åˆ†æˆå¦‚ä¸‹ä¸‰ç§æƒ…å†µï¼š
1. å¯¹3ä¸ª0ä½ç¿»è½¬ï¼Œ$\rm diff'=diff + 3$, $\rm cases = C_{N-diff}^3$
2. å¯¹2ä¸ª0ä½å’Œ1ä¸ª1ç¿»è½¬ï¼Œ$\rm diff'=diff + 1$, $\rm cases = C_{N-diff}^2\cdot C_{diff}^1$
3. å¯¹1ä¸ª0ä½å’Œ2ä¸ª1ç¿»è½¬ï¼Œ$\rm diff'=diff - 1$, $\rm cases = C_{N-diff}^1\cdot C_{diff}^2$
4. å¯¹3ä¸ª1ç¿»è½¬ï¼Œ$\rm diff'=diff - 3$, $\rm cases = C_{diff}^3$
```python
from math import *

dp[0][0] = 1
for step in range(1,total_steps):
    for diff in range(0,N):
        for j in range(4):# num of 1 chosen
            new_diff = diff + 3 - 2 * j
            if new_diff >= 0 and new_diff <= N:
                dp[new_diff][step + 1] += dp[diff][step] * comb(N - diff, 3 - j) * comb(diff, j)
```
å¦‚æœä¸è€ƒè™‘ä¸€ä¸ªå¼€å…³æ‹¨åŠ¨ä¸¤å›çš„æƒ…å†µï¼Œåˆ™åˆæœ‰å˜æ•°ï¼š

åœ¨ä»¥ä¸Šé€’æ¨å…¬å¼çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ‰£é™¤å› ä¸ºæ‹¨åŠ¨ä¸¤å›å¯¼è‡´çš„å¤šä½™è§£
	å¯¹$j$ä¸ª1å’Œ$3-j$ä¸ª0ä½ç¿»è½¬ï¼Œ$\rm diff'=diff + 3 - 2j$, ç”±äºä¹‹å‰çš„æ•°ç»„å…ƒç´ éƒ½å·²ç»å»é™¤é‡å¤ï¼Œæ‰€ä»¥ç”±äºå¦‚æ­¤æ‹¨åŠ¨è€Œé€ æˆé‡å¤æ‹¨åŠ¨çš„æƒ…å†µï¼Œå¿…ç„¶æ˜¯æœ¬æ¬¡æ“ä½œä¸**å…ˆå‰æ“ä½œP**é‡åˆäº†ã€‚æˆ‘ä»¬éœ€è¦æ±‚å‡ºè¿™æ ·çš„æƒ…å†µæ•°ã€‚**å…ˆå‰æ“ä½œP**å¯èƒ½ä½äºç¬¬1~stepå…±stepå›ï¼Œå¹¶ä¸”ç”±äºæ“ä½œ**æ»¡è¶³äº¤æ¢å¾‹**ï¼Œå› æ­¤**å…ˆå‰æ“ä½œP**åœ¨è¿™stepæ­¥ä¸­æ¯ä¸€æ­¥å‡ºç°çš„æƒ…å†µæ•°å‡ç›¸åŒã€‚è€Œå»æ‰**å…ˆå‰æ“ä½œP**å’Œå½“å‰æ“ä½œï¼Œ**å‰©ä¸‹çš„æ“ä½œåºåˆ—**å‡æ˜¯ä¸é‡åˆçš„ã€‚å¹¶ä¸”ç”±äºæ“ä½œä¸¤å›ç­‰ä»·äºæ’ç­‰æ“ä½œï¼Œå› æ­¤**å‰©ä¸‹çš„æ“ä½œåºåˆ—**æ˜¯ä¸€ä¸ªstep-1æ­¥ä»0åˆ°Sçš„æ“ä½œåºåˆ—ã€‚æ¯ä¸ªé‡å¤åºåˆ—å’Œï¼ˆ**P**ï¼Œ$\rm 0\overset{step-1}\to S_{diff}$ï¼‰å¯ä»¥å»ºç«‹ä¸€ä¸€æ˜ å°„ï¼Œå› æ­¤å…¶æ•°é‡ä¸º$\rm dp[diff][step-1] \cdot step$

æ€»ç»“ï¼š
```python
from math import *

dp[0][0] = 1
for step in range(1,total_steps):
    for diff in range(0,N):
        for j in range(4):# num of 1 chosen
            new_diff = diff + 3 - 2 * j
            if new_diff >= 0 and new_diff <= N:
                route = dp[diff][step] * comb(N - diff, 3 - j) * comb(diff, j)
                repeat = dp[diff][step - 1] * step
                dp[new_diff][step + 1] +=  route - repeat 
```
---
Sequenceæ˜¯ä¸€é“æ¯”è¾ƒç»¼åˆçš„å¡æ—¶é—´é¢˜ç›®ã€‚æ•°ç»„å·ç§¯å¯ä»¥æƒ³åˆ°åˆ†æ²»ä¼˜åŒ–ï¼Œä½†å¦‚æœç›´æ¥ä¸Šçš„è¯å·ç§¯ä¸€æ¬¡å¾—å­˜å‚¨$n^2$ä¸ªä¸­é—´å€¼ï¼Œä¼šMLEã€‚å› æ­¤åªèƒ½ä½¿ç”¨æ›´åŠ é«˜æ•ˆçš„heap. minheapæ˜¯ä¸€ä¸ªå¥½åŠæ³•ï¼Œä½†æ˜¯å®æ“çš„æ—¶å€™ä¼šå‘ç°å­˜åœ¨é‡å¤è®¡æ•°ï¼Œå› æ­¤ä½¿ç”¨visitedæ¥è®°å½•ã€‚ä½†æ˜¯å¦‚æœvisitedè¿˜æ˜¯ä½¿ç”¨äºŒç»´boolè¡¨æ ¼çš„è¯ä¼šè¶…æ—¶ï¼ˆæ¯æ¬¡åˆå§‹åŒ–éƒ½æ˜¯$\rm O(n^2)$ï¼‰,æ‰€ä»¥æ”¹ç”¨åŸºäºHashè¡¨çš„setï¼Œè¿™å°±å¯ä»¥é€šè¿‡äº†$\rm O(T\cdot m \cdot n \cdot \log_2 n)$ã€‚
åæ¥æƒ³æƒ³å¥½åƒå·ç§¯æ¬¡æ•°ä¸ç®¡æ€æ ·éƒ½æ˜¯n-1ï¼Œæ‰€ä»¥åˆ†æ²»å®é™…ä¸Šæ²¡æ³•ä¼˜åŒ–
```python
#----------------------------------------------
class minheap:
    def __init__(self, items = None):
        """
        initialization
        """
        self.heap = []
        if items:
            self.heap = list(items)
            self._build_heap()

    def _build_heap(self):
        for i in range(len(self.heap) // 2, -1, -1):
            self._sift_down(i)

    def _sift_up(self, idx):
        """swap up to appropriate position"""
        while idx > 0: # parent exists
            parent = (idx - 1) // 2
            if self.heap[parent] <= self.heap[idx]:
                break
            self.heap[parent], self.heap[idx] = self.heap[idx], self.heap[parent]
            idx = parent

    def _sift_down(self, idx):
        """swap down to appropriate position"""
        while idx * 2 + 1 < len(self.heap):
            child = idx * 2 + 1
            minimum = idx
            if child < len(self.heap) and self.heap[child] < self.heap[minimum]:
                minimum = child
            child += 1
            if child < len(self.heap) and self.heap[child] < self.heap[minimum]:
                minimum = child
            if minimum > idx:
                self.heap[minimum], self.heap[idx] = self.heap[idx], self.heap[minimum]
                idx = minimum
            else:
                break
    def _push(self, item): #O(log_2(n))
        """insert item"""
        self.heap.append(item)
        self._sift_up(len(self.heap) - 1)

    def pop(self):
        """pop the minimum"""
        if not self.heap:
            raise IndexError("pop from empty heap")
        root, last = self.heap[0], self.heap.pop() #Notice self.pop() != self.heap.pop()
        if self.heap:
            self.heap[0] = last
            self._sift_down(0)
        return root

    def peek(self):
        """peek the minimum"""
        if not self.heap:
            raise IndexError("peek from empty heap")
        return self.heap[0]
    
    def size(self):
        """return the size of heap"""
        return len(self.heap)

    def is_empty(self):
        """return whether or not the heap is empty"""
        return len(self.heap) == 0

    def __str__(self):
        return str(self.heap)
#-----------------------------------------
T = int(input())
seqs = []
n = m = 0
heap = minheap()
#---------------
def conv(L,R):
    if L + 1 == R:
        return seqs[L]
    mid = (L + R) // 2
    left = conv(L,mid)
    right = conv(mid,R)
    # convolve left and right
    seq = []
    heap = minheap([[left[0] + right[0],0,0]])
    visited = {(0,0)}
    for i in range(n):
        num, x, y = heap.pop()
        if x + 1 < n and ((x + 1,y) not in visited):
            heap._push([left[x + 1] + right[y],x + 1,y])
            visited.add((x + 1,y))
        if y + 1 < n and ((x,y + 1) not in visited):
            heap._push([left[x] + right[y + 1],x,y + 1])
            visited.add((x,y + 1))
        seq.append(num)
    return seq[:n:]
#---------------
for i in range(T):
    m,n = map(int,input().split())
    seqs = []
    for j in range(m):
        seq = [int(_) for _ in input().split()]
        seq = sorted(seq)
        seqs.append(seq)
    result = conv(0,m)
    print(*result)

```
![[Pasted image 20251017142406.png]]

---
é£Ÿç‰©é“¾ï¼šè¾¹ä¸Šå¸¦æœ‰ä¿¡æ¯çš„å¹¶æŸ¥é›†
```python
class UFS:
    def __init__(self, items = 0):
        """initialization"""
        self.point = [(i,0) for i in range(items)] # phase: relative to me (x)!
        self.depth = [1 for i in range(items)]

    def union(self, x, y, phase):# phase: y relative to x
        x, phase_x = self.find(x)
        y, phase_y = self.find(y)
        phase = phase - phase_x + phase_y
        phase %= 3
        if x == y:
            if phase != 0:
                return False
            else:
                return True
        if self.depth[x] > self.depth[y]:
            self.point[y] = (x,(-phase) % 3)
            self.depth[x] = max(self.depth[x], self.depth[y] + 1)
        else:
            self.point[x] = (y,phase)
            self.depth[y] = max(self.depth[y], self.depth[x] + 1)
        return True

    def find(self, x):
        #print('x= ',x)
        if self.point[x][0] == x:
            return (x, 0)
        root, phase = self.find(self.point[x][0])
        phase += self.point[x][1]
        phase %= 3
        self.point[x] = (root, phase)
        return (root, phase)

    def __str__(self):
        return str(self.point)

n,k = map(int,input().split())
ufs = UFS(n + 1)
fake = 0
for i in range(k):
    d,x,y = map(int,input().split())
    if (x > n) or (y > n) or (not ufs.union(x,y,d-1)):
        fake += 1
print(fake)

```

![[Pasted image 20251017172450.png]]
AI version:
```python
class UFS:
    def __init__(self, n):
        self.parent = list(range(n))
        self.rel = [0] * n  # rel[i] è¡¨ç¤º i åˆ° parent[i] çš„å…³ç³» (0:åŒç±», 1: i åƒ parent[i], 2: parent[i] åƒ i)
        self.depth = [1] * n  # æŒ‰ç§©åˆå¹¶çš„æ·±åº¦

    def find(self, x):
        if self.parent[x] == x:
            return (x, 0)
        root, r = self.find(self.parent[x])
        # æ›´æ–° x åˆ°æ ¹èŠ‚ç‚¹çš„å…³ç³»ï¼šx->parent[x] + parent[x]->root
        new_rel = (self.rel[x] + r) % 3
        self.parent[x] = root
        self.rel[x] = new_rel
        return (root, new_rel)

    def union(self, x, y, phase):
        x_root, x_rel = self.find(x)
        y_root, y_rel = self.find(y)
        if x_root == y_root:
            # æ£€æŸ¥ x å’Œ y çš„å…³ç³»æ˜¯å¦ç¬¦åˆè¦æ±‚
            if (x_rel - y_rel) % 3 != phase:
                return False
            return True
        else:
            # æŒ‰æ·±åº¦åˆå¹¶ï¼šå°†æ·±åº¦å°çš„æ ‘æŒ‚åˆ°æ·±åº¦å¤§çš„æ ‘ä¸Š
            if self.depth[x_root] >= self.depth[y_root]:
                # å°† y_root æŒ‚åˆ° x_root ä¸Š
                r = (x_rel - y_rel - phase + 3) % 3
                self.parent[y_root] = x_root
                self.rel[y_root] = r
                if self.depth[x_root] == self.depth[y_root]:
                    self.depth[x_root] += 1
                return True
            else:
                # å°† x_root æŒ‚åˆ° y_root ä¸Š
                r = (phase - x_rel + y_rel + 3) % 3
                self.parent[x_root] = y_root
                self.rel[x_root] = r
                if self.depth[x_root] == self.depth[y_root]:
                    self.depth[y_root] += 1
                return True

def main():
    import sys
    data = sys.stdin.read().split()
    if not data:
        return
    n = int(data[0])
    k = int(data[1])
    ufs = UFS(n)
    fake = 0
    index = 2
    for _ in range(k):
        d = int(data[index])
        x = int(data[index + 1])
        y = int(data[index + 2])
        index += 3
        # æ£€æŸ¥ 2: X æˆ– Y è¶…å‡ºèŒƒå›´
        if x > n or y > n:
            fake += 1
            continue
        # æ£€æŸ¥ 3: X åƒ X
        if d == 2 and x == y:
            fake += 1
            continue
        # è½¬æ¢ä¸º 0-indexed
        x0 = x - 1
        y0 = y - 1
        if not ufs.union(x0, y0, d - 1):
            fake += 1
    print(fake)

if __name__ == "__main__":
    main()
```

---
ç§¯æ°´æ½­

æˆ‘çš„ä»£ç è¿‡äºåºå¤§å†—æ‚äº†
```python
t = int(input())
for _ in range(t):
    n = int(input())
    height = [int(i) for i in input().split()]
    summ = [0] * n
    summ[0] = height[0]
    for i in range(1,n):
        summ[i] = summ[i - 1] + height[i]
    #---------------------------------
    right_bank = [-1 for i in range(n)] # record the first block higher than current
    stack = []
    i = 0
    while i + 1 < len(height) and height[i + 1] >= height[i]:
        i += 1
    while i < len(height):
        stack.append([height[i],i])
        while len(stack) >= 2:
            if stack[-2][0] <= stack[-1][0]: # right higher than left
               pos = stack.pop(-2)
               right_bank[pos[1]] = stack[-1][1]
            else:
                break
        i += 1
    #print('right_bank = ',*right_bank)
    #----------------------------------
    left_bank = [-1 for i in range(n)] # record the first block higher(eq) than current
    stack = []
    i = n - 1
    while i > 0 and height[i - 1] >= height[i]:
        i -= 1
    while i >= 0:
        stack.append([height[i],i])
        while len(stack) >= 2:
            if stack[-2][0] <= stack[-1][0]: # right higher than left
               pos = stack.pop(-2)
               left_bank[pos[1]] = stack[-1][1]
            else:
                break
        i -= 1
    #print('left_bank = ',*left_bank)
    #-----------------------------------
    i = n - 1
    while i >= 0:
        if left_bank[i] == -1:
            i -= 1
        else:
            right_bank[left_bank[i]] = max(i,right_bank[left_bank[i]])
            i = left_bank[i]
    #print('right_bank = ',*right_bank)
    #-----------------------------------
    i = 0
    water = 0
    while i < len(height):
        if right_bank[i] == -1:
            i += 1
        else:
            #print(i,right_bank[i])
            L = i
            R = right_bank[i]
            level = min(height[L], height[R])
            water += level * (R - L - 1)
            water -= (summ[R - 1] - summ[L + 1 - 1])
            i = R
    print(water)
    

```
![[Pasted image 20251018104302.png]]å…¶å®æœ‰æ›´åŠ ä¼˜ç¾çš„åšæ³•ï¼š
1. åŒæŒ‡é’ˆ
æ¯ä¸ªç‚¹çš„ç§¯æ°´é«˜åº¦ä¸ºå…¶å·¦ä¾§çš„$\rm max\_height$å’Œå³ä¾§$\rm max\_height$çš„minimum
å°†ä»å·¦å¾€å³å’Œä»å³å¾€å·¦çš„$\rm max\_height$è®°ä¸º$\rm leftmax$å’Œ$\rm rightmax$
å› æ­¤å¦‚æœçŸ­æ¿åœ¨å·¦ä¾§ï¼š$\rm leftmax(pos - 1) < \rm rightmax(pos + k)$ï¼Œåˆ™è¯¥æ ¼æ°´ä½é«˜åº¦ä¸ºå·¦ä¾§çš„max
æ­¤æ—¶å¯ä»¥æŠŠposçš„æ°´é‡ç®—å‡ºæ¥ï¼Œå¹¶å‘å³å‰è¿›ä¸€æ ¼ï¼‰ï¼ˆæˆ–è€…æ›´æ–°maxï¼‰
å¦‚æœä¸ç„¶ï¼Œåˆ™å³ä¾§ä¸ºçŸ­æ¿ï¼Œæ˜¾ç„¶å³ä¾§å¯ä»¥æ±‚å‡ºæ°´é‡å¹¶ç´¯è®¡ï¼Œå³æŒ‡é’ˆå‘å·¦è¿›å‘

ç”¨åŒæŒ‡é’ˆæ³•ç®€å•å¾—å¤šï¼š
```python
t = int(input())
for _ in range(t):
    n = int(input())
    height = [int(i) for i in input().split()]
    leftmax = 0
    rightmax = 0
    left = 0
    right = n - 1
    water = 0
    while left <= right:
        if leftmax <= rightmax:# move left
            water += max(leftmax - height[left],0)
            leftmax = max(leftmax, height[left])
            left += 1
        else:
            water += max(rightmax - height[right],0)
            rightmax = max(rightmax, height[right])
            right -= 1
    print(water)
```

![[Pasted image 20251018113924.png]]
2. dp
ç»´æŠ¤ä¸€ä¸ªç‚¹çš„leftmaxå’Œrightmaxæ•°ç»„ï¼ˆ$\rm O(n)$ï¼‰ç„¶åç›´æ¥æ±‚å’Œ
```python
t = int(input())
for _ in range(t):
    n = int(input())
    height = [int(i) for i in input().split()]
    leftmax = [-1] * n
    rightmax = [-1] * n
    leftmax[0] = height[0]
    rightmax[n - 1] = height[n - 1]
    water = 0
    for i in range(1,n):
        leftmax[i] = max(leftmax[i - 1], height[i])
    for i in range(n - 2,-1,-1):
        rightmax[i] = max(rightmax[i + 1], height[i])
    for i in range(n):
        water += min(leftmax[i], rightmax[i]) - height[i]
    print(water)
```
![[Pasted image 20251018114621.png]]
3. å•è°ƒæ ˆ




---
next_perm:
å°†æœ€åè¦å‘ç”Ÿ**è¿›ä½**çš„åºåˆ—ç»™æ‰¾å‡ºæ¥ï¼Œ**è¿›ä½**å®Œäº†ä»¥åè‚¯å®šæ˜¯é€’å¢åºåˆ—ï¼Œå‰ä¸€ä½å˜æˆäº†è¿™ä¸€ä¸²åºåˆ—ä¸­æ¯”åºåˆ—å‰ä¸€ä½å¤§çš„æœ€å°ä¸€ä¸ªå…ƒç´ 
```python
import bisect
def succ(arr):
    n = len(arr)
    i = n - 2
    while i >= 0 and arr[i] > arr[i + 1]:
        i -= 1
    if i < 0:
        return list(range(1,n+1))
    seq = arr[:i:-1]
    pos = bisect.bisect_right(seq, arr[i])
    arr[i], seq[pos] = seq[pos], arr[i]
    for _ in range(i+1,n):
        arr[_] = seq[_ - i - 1]
    return arr
t = int(input())
for i in range(t):
    n, k = map(int,input().split())
    arr = [int(_) for _ in input().split()]
    for j in range(k):
        arr = succ(arr)
    print(*arr)
```

![[Pasted image 20251018141700.png]]
å¦‚æœkå¾ˆå¤§çš„è¯å¯ä»¥è€ƒè™‘ç”¨æ•°å­¦æ–¹æ³•ï¼ˆCantorçš„åŠæ³•ï¼ŒæŠŠä¸€ä¸ªæ’åˆ—æ˜ å°„ä¸ºä¸€ä¸ªè¿›åˆ¶æ•°ï¼Œè¿›è¡Œè¿›ä½è¿ç®—ï¼‰
```python
def decode(Cantor): # Cantor to arrangement
    used = [False] * (n+3)
    result = []
    for i in range(n):    
        j = 1
        Cantor[i] += 1
        while Cantor[i]:
            while used[j]:
                j += 1
            Cantor[i] -= 1
            j += 1
        j -= 1
        used[j] = True
        result.append(j)
    return result
def encode(arr): # arrangement to Cantor
    result = []
    for i in range(n):
        j = arr[i] - 1
        for _ in range(i):
            if arr[_] < arr[i]:
                j -= 1
        result.append(j)
    return result
def succ(arr,k):
    carry = list(range(n,0,-1))
    code = encode(arr)
    code[-1] += k
    for i in range(n-1,-1,-1):
        if i > 0:
            code[i - 1] += code[i] // carry[i]
        code[i] %= carry[i]
    return decode(code)
t = int(input())
for i in range(t):
    n, k = map(int,input().split())
    arr = [int(_) for _ in input().split()]
    arr = succ(arr,k)
    print(*arr)
```
---
```python
import sys
memory = []
def search(n, upper):
    if memory[n][upper] != -1:
        return memory[n][upper]
    if n == 0:
        memory[n][upper] = 1
        return 1
    count = 0
    for i in range(upper,0,-1):
        if n-i >= 0:
            count += search(n-i,i)
    memory[n][upper] = count
    return count
    
memory = [[-1]*52 for _ in range(52)]
lines = sys.stdin.read().split()
for line in lines:
    print(search(int(line),int(line)))

```

![[Pasted image 20251019102057.png]]

---

å¸®åŠ©Jimmy: 
è¿™é“é¢˜ä»£ç ç‰¹åˆ«éš¾å†™ï¼Œå†™äº†æˆ‘45min
æ€è·¯ï¼šdpï¼›
æ¯ä¸ªå¹³å°çš„ç«¯ç‚¹ä»ä¸Šå¾€ä¸‹æ‰¾ç¬¬ä¸€ä¸ªèƒ½å¤Ÿæ‰¿æ¥Jimmyæˆ–è€…Jimmyæ­»æ‰çš„æƒ…å†µï¼Œåˆ†æƒ…å†µè®¨è®º
ç‰¹åˆ¤ 1.æ‰è½é«˜åº¦è¿‡é«˜ç›´æ¥æ­»æ‰
```python
import sys
lines = sys.stdin.read().splitlines()
t = int(lines[0])
inf = 1e9
index = 1
for _ in range(t):
    n,x,y,Max = map(int,lines[index].split())
    index += 1
    platforms = [[x,x,y]]
    for i in range(n):
        platforms.append([int(j) for j in lines[index].split()])
        index += 1
    platforms = sorted(platforms,key = lambda x:x[2], reverse = True)
    platforms.append([-inf,inf,0])
    #print(platforms)
    #dp[index of platform][left ro right] = time
    dp = [[inf,inf] for i in range(n+1)]
    dp.append(inf)
    dp[0] = [0,0]
    for i in range(n + 1):#ground excluded
        fall_y = platforms[i][2]
        dead_height = fall_y - Max
        for direction in range(2):#left or right
            j = i + 1 #landing platform
            fall_x = platforms[i][direction]
            while j < n + 1 and (platforms[j][0] > fall_x or platforms[j][1] < fall_x): # if this plat can not hold then find next, until find decent plat or fall dead
                j += 1
                if platforms[j][2] < dead_height:
                    break
            if platforms[j][2] < dead_height:
                continue
            fall_time = fall_y - platforms[j][2]
            if j == n + 1:# landing on the ground
                dp[n + 1] = min(dp[n + 1], dp[i][direction] + fall_time)
            else:# landing on platforms
                dp[j][0] = min(dp[j][0], dp[i][direction] + fall_time + abs(platforms[j][0] - fall_x))
                dp[j][1] = min(dp[j][1], dp[i][direction] + fall_time + abs(platforms[j][1] - fall_x))
    print(dp[n + 1])

```
ç”¨å‡½æ•°åŒ–ç¼–ç¨‹å¯ä»¥ç®€åŒ–åˆ¤æ–­é€»è¾‘ï¼š
```python
import sys
platforms = []
def land(fall_x, fall_platform, dead_height):
    for j in range(fall_platform + 1, n + 2):
        if platforms[j][2] < dead_height:
            return -1
        if platforms[j][0] <= fall_x and platforms[j][1] >= fall_x:
            return j
lines = sys.stdin.read().splitlines()
t = int(lines[0])
inf = 1e9
index = 1
for _ in range(t):
    n,x,y,Max = map(int,lines[index].split())
    index += 1
    platforms = [[x,x,y]] #starting platform
    for i in range(n):
        platforms.append([int(j) for j in lines[index].split()])
        index += 1
    platforms = sorted(platforms,key = lambda x:x[2], reverse = True)
    platforms.append([-inf,inf,0]) # ground as a platform
    #dp [index of platform] [left or right] = minimal time
    dp = [[inf,inf] for i in range(n+1)]
    dp.append(inf) # ground platform
    dp[0] = [0,0]
    for i in range(n + 1):#ground excluded
        fall_y = platforms[i][2]
        dead_height = fall_y - Max
        for direction in range(2):#left or right
            fall_x = platforms[i][direction]
            if (j:=land(fall_x, i, dead_height)) == -1:
                continue
            land_time = dp[i][direction] + fall_y - platforms[j][2]
            if j == n + 1:# landing on the ground
                dp[n + 1] = min(dp[n + 1], land_time)
            else:# landing on platforms
                dp[j][0] = min(dp[j][0], land_time + abs(platforms[j][0] - fall_x))
                dp[j][1] = min(dp[j][1], land_time + abs(platforms[j][1] - fall_x))
    print(dp[n + 1])
```
---
```python
import sys
memory = []
def search(n, upper):
    if memory[n][upper] != -1:
        return memory[n][upper]
    if n == 0:
        memory[n][upper] = 1
        return 1
    count = 0
    for i in range(upper,0,-1):
        if n-i >= 0:
            count += search(n-i,i)
    memory[n][upper] = count
    return count
    
memory = [[-1]*52 for _ in range(52)]
lines = sys.stdin.read().split()
for line in lines:
    print(search(int(line),int(line)))
```
![[Pasted image 20251019133131.png]]

---


ç»å…¸çš„è´ªå¿ƒ-åŒºé—´è¦†ç›–
```python
n = int(input())
a = [int(i) for i in input().split()]
ranges = []
for i,d in enumerate(a):
    ranges.append([i - d,i + d])
ranges = sorted(ranges, key = lambda x:x[0])
right = 0 # the first right point which can't be covered
index = 0
cameras = 0
while right < n:
    cameras += 1
    rightmax = right - 1
    #print(f'right = {right} index = {index} cameras = {cameras}')
    while index < n and ranges[index][0] <= right: # index<n prevent out of range
        rightmax = max(ranges[index][1],rightmax)
        index += 1
    right = rightmax + 1 #the first uncovered point is the next og 
print(cameras)
```
$\rm index<n$é˜²æ­¢è¶Šç•Œï¼Œä½†æ˜¯ä¸èƒ½$\rm index<n - 1$ï¼Œè¿™æ ·å°±ä¼šæ¼æ‰æœ€åä¸€ä¸ªåŒºé—´äº†
![[Pasted image 20251020111405.png]]

| åºå·  |                                                     |                                                                          |      |                                                            |                                                            |            |     |
| --- | --------------------------------------------------- | ------------------------------------------------------------------------ | ---- | ---------------------------------------------------------- | ---------------------------------------------------------- | ---------- | --- |
| 1   | [T01011](http://cs101.openjudge.cn/pctbook/T01011/) | [Sticks](http://cs101.openjudge.cn/pctbook/T01011/)                      | 77%  | [23](http://cs101.openjudge.cn/pctbook/T01011/statistics/) | [30](http://cs101.openjudge.cn/pctbook/T01011/statistics/) | dfså‰ªæ      |     |
| 2   | [T02287](http://cs101.openjudge.cn/pctbook/T02287/) | [Tian Ji -- The Horse Racing](http://cs101.openjudge.cn/pctbook/T02287/) | 81%  | [13](http://cs101.openjudge.cn/pctbook/T02287/statistics/) | [16](http://cs101.openjudge.cn/pctbook/T02287/statistics/) |            |     |
| 3   | [T04093](http://cs101.openjudge.cn/pctbook/T04093/) | [å€’æ’ç´¢å¼•æŸ¥è¯¢](http://cs101.openjudge.cn/pctbook/T04093/)                      | 92%  | [11](http://cs101.openjudge.cn/pctbook/T04093/statistics/) | [12](http://cs101.openjudge.cn/pctbook/T04093/statistics/) | åŸºç¡€set      |     |
| 4   | [T04117](http://cs101.openjudge.cn/pctbook/T04117/) | [ç®€å•çš„æ•´æ•°åˆ’åˆ†é—®é¢˜](http://cs101.openjudge.cn/pctbook/T04117/)                   | 90%  | [27](http://cs101.openjudge.cn/pctbook/T04117/statistics/) | [30](http://cs101.openjudge.cn/pctbook/T04117/statistics/) |            |     |
| 5   | [T04129](http://cs101.openjudge.cn/pctbook/T04129/) | [å˜æ¢çš„è¿·å®«](http://cs101.openjudge.cn/pctbook/T04129/)                       | 100% | [17](http://cs101.openjudge.cn/pctbook/T04129/statistics/) | [17](http://cs101.openjudge.cn/pctbook/T04129/statistics/) |            |     |
| 6   | [T18146](http://cs101.openjudge.cn/pctbook/T18146/) | [ä¹Œé¸¦åé£æœº](http://cs101.openjudge.cn/pctbook/T18146/)                       | 71%  | [22](http://cs101.openjudge.cn/pctbook/T18146/statistics/) | [31](http://cs101.openjudge.cn/pctbook/T18146/statistics/) |            |     |
| 7   | [T19960](http://cs101.openjudge.cn/pctbook/T19960/) | [æ©å°¼æ ¼ç›](http://cs101.openjudge.cn/pctbook/T19960/)                        | 100% | [9](http://cs101.openjudge.cn/pctbook/T19960/statistics/)  | [9](http://cs101.openjudge.cn/pctbook/T19960/statistics/)  |            |     |
| 8   | [T20052](http://cs101.openjudge.cn/pctbook/T20052/) | [æœ€å¤§ç‚¹æ•°ï¼ˆåŒ2048è§„åˆ™ï¼‰](http://cs101.openjudge.cn/pctbook/T20052/)               | 100% | [5](http://cs101.openjudge.cn/pctbook/T20052/statistics/)  | [5](http://cs101.openjudge.cn/pctbook/T20052/statistics/)  |            |     |
| 9   | [T20106](http://cs101.openjudge.cn/pctbook/T20106/) | [èµ°å±±è·¯](http://cs101.openjudge.cn/pctbook/T20106/)                         | 88%  | [14](http://cs101.openjudge.cn/pctbook/T20106/statistics/) | [16](http://cs101.openjudge.cn/pctbook/T20106/statistics/) |            |     |
| 10  | [T20741](http://cs101.openjudge.cn/pctbook/T20741/) | [ä¸¤åº§å­¤å²›æœ€çŸ­è·ç¦»](http://cs101.openjudge.cn/pctbook/T20741/)                    | 100% | [11](http://cs101.openjudge.cn/pctbook/T20741/statistics/) | [11](http://cs101.openjudge.cn/pctbook/T20741/statistics/) |            |     |
| 11  | [T23568](http://cs101.openjudge.cn/pctbook/T23568/) | [å¹¸ç¦çš„å¯’å‡ç”Ÿæ´»](http://cs101.openjudge.cn/pctbook/T23568/)                     | 92%  | [12](http://cs101.openjudge.cn/pctbook/T23568/statistics/) | [13](http://cs101.openjudge.cn/pctbook/T23568/statistics/) |            |     |
| 12  | [T25353](http://cs101.openjudge.cn/pctbook/T25353/) | [æ’é˜Ÿ](http://cs101.openjudge.cn/pctbook/T25353/)                          |      |                                                            |                                                            |            |     |
| 13  | [T25561](http://cs101.openjudge.cn/pctbook/T25561/) | [2022å†³æˆ˜åŒåä¸€](http://cs101.openjudge.cn/pctbook/T25561/)                   | 100% | [2](http://cs101.openjudge.cn/pctbook/T25561/statistics/)  | [2](http://cs101.openjudge.cn/pctbook/T25561/statistics/)  |            |     |
| 14  | [T27103](http://cs101.openjudge.cn/pctbook/T27103/) | [æœ€çŸ­çš„æ„‰æ‚¦æ—‹å¾‹é•¿åº¦](http://cs101.openjudge.cn/pctbook/T27103/)                   | 77%  | [10](http://cs101.openjudge.cn/pctbook/T27103/statistics/) | [13](http://cs101.openjudge.cn/pctbook/T27103/statistics/) |            |     |
| 15  | [T27205](http://cs101.openjudge.cn/pctbook/T27205/) | [æŠ¤æ—å‘˜ç›–æˆ¿å­ åŠ å¼ºç‰ˆ](http://cs101.openjudge.cn/pctbook/T27205/)                  | 88%  | [14](http://cs101.openjudge.cn/pctbook/T27205/statistics/) | [16](http://cs101.openjudge.cn/pctbook/T27205/statistics/) | å•è°ƒæ ˆï¼Ÿï¼Ÿï¼Ÿ     |     |
| 17  | [T27256](http://cs101.openjudge.cn/pctbook/T27256/) | [å½“å‰é˜Ÿåˆ—ä¸­ä½æ•°](http://cs101.openjudge.cn/pctbook/T27256/)                     | 52%  | [12](http://cs101.openjudge.cn/pctbook/T27256/statistics/) | [23](http://cs101.openjudge.cn/pctbook/T27256/statistics/) | ä¸æ˜¯å¾ˆç®€å•çš„æ•°æ®ç»“æ„ |     |
| 18  | [T27384](http://cs101.openjudge.cn/pctbook/T27384/) | [å€™é€‰äººè¿½è¸ª](http://cs101.openjudge.cn/pctbook/T27384/)                       | 78%  | [7](http://cs101.openjudge.cn/pctbook/T27384/statistics/)  | [9](http://cs101.openjudge.cn/pctbook/T27384/statistics/)  |            |     |
| 19  | [T28701](http://cs101.openjudge.cn/pctbook/T28701/) | [ç‚¸é¸¡æ’](http://cs101.openjudge.cn/pctbook/T28701/)                         | 89%  | [31](http://cs101.openjudge.cn/pctbook/T28701/statistics/) | [35](http://cs101.openjudge.cn/pctbook/T28701/statistics/) |            |     |
| 20  | [T28776](http://cs101.openjudge.cn/pctbook/T28776/) | [å›½ç‹æ¸¸æˆ](http://cs101.openjudge.cn/pctbook/T28776/)                        | 94%  | [17](http://cs101.openjudge.cn/pctbook/T28776/statistics/) | [18](http://cs101.openjudge.cn/pctbook/T28776/statistics/) |            |     |
|     |                                                     |                                                                          |      |                                                            |                                                            |            |     |
æœ€å¤§æ•´æ•°ï¼š

%% å¦‚æœæŠŠå‡ ä¸ªæ•°å­—åˆå¹¶æˆå¤§æ•´æ•°ï¼Œåˆ™æœ€å¤§çš„æ•´æ•°å¿…ç„¶ä½¿å¾—è‹¥å°†ç¬¬ä¸€ä¸ªæ•´æ•°ç‰‡æ®µå’Œç¬¬i>1ä¸ªç‰‡æ®µäº¤æ¢éƒ½ä¼šä½¿ä¹‹å˜å°ï¼Œå³ç¬¬ä¸€ä¸ªæ•´æ•°ç‰‡æ®µ***åŠåº***å¤§äºç­‰äºç¬¬iä¸ªã€‚å› æ­¤ç¬¬ä¸€ä¸ªæ•´æ•°å¿…ç„¶æ˜¯***åŠåº***æœ€å¤§ï¼ˆæˆ–å¹¶åˆ—æœ€å¤§ï¼‰è€…ã€‚åç»­çš„æ’åˆ—åŒç†ï¼Œå› æ­¤è¿™ä¸ªå¤§æ•´æ•°ä¸€å®šæ˜¯ç”±***åŠåºé™åº***æ’åˆ—çš„æ•´æ•°ç‰‡æ®µè¿æ¥è€Œæˆã€‚
å› æ­¤åªéœ€å°†æ•´æ•°ç‰‡æ®µæŒ‰ç…§***åŠåº***ä»å¤§åˆ°å°æ’åºï¼Œå¹¶è¿›è¡Œæ‹¼æ¥å³å¯ã€‚
æ³¨ï¼šå­—ç¬¦ä¸²å¤§å°æ¯”è¾ƒä¸ºï¼š
	å­—ç¬¦ä¸²æ¯”è¾ƒçš„åŸºæœ¬è§„åˆ™

1. **é€å­—ç¬¦æ¯”è¾ƒ**ï¼šä»å­—ç¬¦ä¸²çš„å·¦è¾¹å¼€å§‹ï¼Œä¾æ¬¡æ¯”è¾ƒæ¯ä¸ªå­—ç¬¦çš„ASCIIç å€¼ã€‚å¦‚æœæŸä¸ªå­—ç¬¦ä¸åŒï¼Œåˆ™æ¯”è¾ƒç»“æœç”±è¯¥å­—ç¬¦çš„ASCIIç å€¼å†³å®šã€‚    
2. **é•¿åº¦ä¸å†³å®šå¤§å°**ï¼šå­—ç¬¦ä¸²çš„é•¿åº¦å¹¶ä¸èƒ½ç›´æ¥å†³å®šå­—ç¬¦ä¸²çš„å¤§å°ã€‚ä½†å®é™…æ¯”è¾ƒæ—¶ï¼Œè‹¥é€å­—ç¬¦æ¯”è‡³ä¸€è€…åˆ°è¾¾æœ«å°¾ï¼Œåˆ™æ¯”è¾ƒé•¿åº¦

**æ³¨æ„ï¼šåŠåºç›¸ç­‰ä¸å…·æœ‰ä¼ é€’æ€§ï¼**
***åŠåº***åˆ™æŒ‡çš„æ˜¯ä»…ä»…è¿›è¡Œ**é€å­—ç¬¦æ¯”è¾ƒ**ï¼Œè‹¥ç›¸åŒåˆ™è®¤ä¸ºç›¸ç­‰ï¼ˆå¯èƒ½å®é™…ä¸ºå­—ä¸²çš„å…³ç³»ï¼‰
é‚£ä¹ˆå¦‚æœé‡åˆ°***åŠåº***ç›¸ç­‰å´å®é™…ä¸ç›¸ç­‰çš„æƒ…å†µæ€ä¹ˆåŠï¼Ÿ

åœ¨å®é™…æ‹¼æ¥çš„æ—¶å€™ï¼Œ***åŠåº***ç›¸ç­‰çš„æ•´æ•°ç‰‡æ®µä¹‹é—´å­˜åœ¨ç›¸å¯¹æ¬¡åºå…³ç³»éœ€è¦è¿›ä¸€æ­¥å¤„ç†ã€‚
796796 79679 7967
321021 321022 3210
å®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦è€ƒå¯Ÿè¿™äº›åŠåºâ€œä¼ªç­‰ä»·ç±»â€çš„ç›¸å¯¹å…³ç³»å³å¯ã€‚ä¾‹å¦‚ï¼š
**796796**+**79679** < **76979**+**79679**6
**796796**+**796** = **769**+**796**796
**796796**+**7967** > **7967**+**7967**96
æ³¨æ„åˆ°å¦‚æœå°†***åŠåº***ç›¸ç­‰çš„æ•´æ•°ç‰‡æ®µè¿›è¡Œé‡å¤å¤„ç†ï¼Œå…¶æ¯”è¾ƒçš„æ—¶å€™å°±ä¼šæ˜¾ç°å‡ºå·®å¼‚ï¼Œå¹¶ä¸”å»¶é•¿çš„ç‰‡æ®µä¹Ÿæ°ä¸ºå®é™…æ‹¼æ¥æ—¶ä¼šå‡ºç°çš„ç‰‡æ®µï¼ˆæˆ–å…¶å»¶é•¿ï¼‰

æ ¹æ®ä»¥ä¸Šç²—æµ…ã€ä¸ä¸¥è°¨çš„åˆ†æï¼Œæˆ‘è®¤ä¸ºå¯ä»¥å°†æ¯ä¸ªæ•´æ•°ç‰‡æ®µé‡å¤ä¸€éè¿›è¡Œæ­£å¸¸æ¯”è¾ƒï¼ŒåŸå› å¦‚ä¸‹ï¼š
	1. é‡å¤ä¸€éå¹¶ä¸ä¼šæ”¹å˜**åŠåº**å¤§å°å…³ç³»
	2. æ­£å¸¸æ’åºç»“æœå¿…ç„¶ä¸å­˜åœ¨é€†åºå¯¹ï¼Œè‡ªæ´½ï¼ˆå¤§å°å…³ç³»å…·æœ‰ä¼ é€’æ€§ï¼‰
	3. åŠåºå¯èƒ½å‡ºç°ç›¸åŒæƒ…å†µæ—¶ï¼Œé‡å¤ç»™å‡ºäº†ä¸€ä¸ªè¿‘ä¼¼çš„æ‹¼æ¥ç»“æœæ¨¡æ‹Ÿï¼Œ
	4. è‹¥é‡å¤ç»“æœç›¸åŒï¼Œåˆ™äºŒä¸²å¿…ç„¶ç›¸åŒï¼Œå› æ­¤ä¸ä¼šæœ‰ç”šä¹ˆå½±å“
æˆ‘å¾ˆéš¾è¯æ˜è¿™æ˜¯æœ€ä¼˜è§£ï¼Œä½†ç§ç§è¿¹è±¡è¡¨æ˜ç¡®å®æ˜¯è¿™æ ·çš„ %%

ä»¥ä¸Šçš„æƒ³æ³•å‡æ˜¯é”™è¯¯çš„ï¼å¹¶æ²¡æœ‰é€šè¿‡ï¼

æ­£ç¡®æ€è·¯ï¼ˆThanks to Tongyiï¼‰ï¼š
```python
from functools import cmp_to_key
def cmp(a, b):
    if a + b > b + a:
        return -1
    elif a + b < b + a:
        return 1
    else:
        return 0
```


> å¦‚æœæˆ‘çš„è‡ªå®šä¹‰æ’åºæ˜¯å°† `a+a` å’Œ `b+b` æ¯”è¾ƒï¼ˆå³æ¯”è¾ƒ `a+a > b+b` æ¥å†³å®š `a` æ˜¯å¦æ’åœ¨ `b` å‰é¢ï¼‰ï¼Œä¼šä¸ä¼šå‡ºé—®é¢˜ï¼Ÿä¸æ­£ç¡®çš„ `a+b > b+a` æ’åºåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ç»“æœä¸åŒï¼Ÿ

---

### âœ… ç®€çŸ­å›ç­”ï¼š

**ä¼šå‡ºé—®é¢˜ï¼**  
ä½¿ç”¨ `a+a > b+b` ä½œä¸ºæ’åºä¾æ®æ˜¯ **é”™è¯¯çš„**ï¼Œå®ƒåœ¨å¾ˆå¤šæƒ…å†µä¸‹ä¼šç»™å‡ºé”™è¯¯çš„æ’åºé¡ºåºï¼Œä»è€Œå¯¼è‡´æœ€ç»ˆæ‹¼æ¥ç»“æœä¸æ˜¯æœ€å¤§ã€‚

---

### ğŸ” æ­£ç¡®çš„è´ªå¿ƒæ’åºè§„åˆ™ï¼ˆç»å…¸ç»“è®ºï¼‰

è¦è®©è‹¥å¹²å­—ç¬¦ä¸²æ‹¼æ¥åå­—å…¸åºæœ€å¤§ï¼Œ**æ­£ç¡®çš„æ¯”è¾ƒæ–¹å¼æ˜¯**ï¼š

> å¯¹äºä¸¤ä¸ªå­—ç¬¦ä¸² `a` å’Œ `b`ï¼Œå®šä¹‰ `a` åº”è¯¥æ’åœ¨ `b` å‰é¢å½“ä¸”ä»…å½“ï¼š
> 
> ```
> a + b > b + a   (å­—ç¬¦ä¸²æ‹¼æ¥æ¯”è¾ƒ)
> ```

è¿™æ˜¯ LeetCode 179. "Largest Number" ç­‰ç»å…¸é¢˜çš„ç»“è®ºï¼Œæœ‰ä¸¥æ ¼è¯æ˜ã€‚

---

### âŒ ä½ æå‡ºçš„è§„åˆ™ï¼š`a+a > b+b`

è¿™ä¸ªè§„åˆ™ **æ²¡æœ‰æ•°å­¦ä¾æ®**ï¼Œä¹Ÿä¸èƒ½ä¿è¯æ‹¼æ¥æœ€ä¼˜ã€‚

æˆ‘ä»¬æ¥æ„é€ åä¾‹è¯´æ˜å®ƒä¸ºä½•é”™è¯¯ã€‚

---

### ğŸ§ª åä¾‹ 1ï¼š`a = "9", b = "91"`

- æ­£ç¡®æ¯”è¾ƒï¼ˆåº”ä½¿ç”¨ï¼‰ï¼š
    
    - `a + b = "991"`
    - `b + a = "919"`
    - `"991" > "919"` â†’ æ‰€ä»¥ `"9"` åº”è¯¥æ’åœ¨ `"91"` å‰é¢ âœ…
- ä½ æå‡ºçš„è§„åˆ™ï¼š
    
    - `a + a = "9" + "9" = "99"`
    - `b + b = "91" + "91" = "9191"`
    - `"99" < "9191"` â†’ æ‰€ä»¥ `"91"` æ’åœ¨ `"9"` å‰é¢ âŒ

**ç»“æœé”™è¯¯ï¼**  
è¿™ä¼šå¯¼è‡´æ‹¼æ¥æ—¶ `"91"` åœ¨å‰ï¼Œ`"9"` åœ¨åï¼Œå¾—åˆ° `"919"`ï¼Œè€Œä¸æ˜¯æ›´å¤§çš„ `"991"`ã€‚

---

### ğŸ§ª åä¾‹ 2ï¼š`a = "93", b = "9"`

- æ­£ç¡®æ¯”è¾ƒï¼š
    
    - `a + b = "939"`
    - `b + a = "993"`
    - `"993" > "939"` â†’ æ‰€ä»¥ `"9"` åº”è¯¥æ’åœ¨ `"93"` å‰é¢ âœ…
- ä½ çš„è§„åˆ™ï¼š
    
    - `a + a = "9393"`
    - `b + b = "99"`
    - `"9393" > "99"` â†’ æ‰€ä»¥ `"93"` æ’åœ¨ `"9"` å‰é¢ âŒ

**é”™è¯¯ï¼** å®é™…ä¸Š `"9"` åº”è¯¥ä¼˜å…ˆã€‚

---

### ğŸ§ª åä¾‹ 3ï¼š`a = "12", b = "121"`

- æ­£ç¡®æ¯”è¾ƒï¼š
    
    - `a + b = "12121"`
    - `b + a = "12112"`
    - `"12121" > "12112"` â†’ `"12"` åº”æ’åœ¨ `"121"` å‰é¢ âœ…
- ä½ çš„è§„åˆ™ï¼š
    
    - `a + a = "1212"`
    - `b + b = "121121"`
    - `"1212" < "121121"` â†’ `"121"` æ’å‰é¢ âŒ

ä½† `"12"+"121" = "12121"` > `"121"+"12" = "12112"`ï¼Œæ‰€ä»¥ `"12"` åº”è¯¥ä¼˜å…ˆã€‚

---

### âœ… ä¸ºä»€ä¹ˆ `a+a > b+b` æ˜¯é”™è¯¯çš„ç›´è§‰ï¼Ÿ

è¿™ä¸ªè§„åˆ™è¯•å›¾é€šè¿‡â€œé‡å¤è‡ªå·±â€æ¥è¡¡é‡ä¸€ä¸ªå­—ç¬¦ä¸²çš„â€œå¼ºåº¦â€ï¼Œä½†å®ƒå¿½ç•¥äº†**äº¤äº’æ‹¼æ¥**çš„æœ¬è´¨ã€‚

- `a+a` åªè¡¡é‡äº† `a` è‡ªèº«é‡å¤çš„è¡¨ç°
- ä½†æˆ‘ä»¬éœ€è¦çš„æ˜¯ `a` å’Œ `b` **äº’ç›¸æ‹¼æ¥æ—¶çš„ç›¸å¯¹ä¼˜åŠ¿**

> è´ªå¿ƒæ’åºçš„ç›®æ ‡æ˜¯ï¼š**åœ¨ä»»æ„ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œé€‰æ‹©æ‹¼æ¥åæ›´å¤§çš„é‚£ä¸ªé¡ºåº**  
> æ‰€ä»¥å¿…é¡»ç›´æ¥æ¯”è¾ƒ `a+b` å’Œ `b+a`

---

### âœ… æ­£ç¡®æ’åºçš„æ•°å­¦ä¾æ®ï¼ˆç®€è¦ï¼‰

å®šä¹‰ååºå…³ç³»ï¼š`a â‰º b` å½“ä¸”ä»…å½“ `a + b < b + a`

è¿™ä¸ªå…³ç³»æ»¡è¶³ï¼š

- **å®Œå¤‡æ€§**ï¼šä»»æ„ä¸¤ä¸ªå­—ç¬¦ä¸²å¯æ¯”è¾ƒ
- **åå¯¹ç§°æ€§**ï¼šè‹¥ `a â‰º b` ä¸” `b â‰º a`ï¼Œåˆ™ `a = b`
- **ä¼ é€’æ€§**ï¼ˆåœ¨å¤§å¤šæ•°å®é™…æƒ…å†µä¸‹æˆç«‹ï¼Œå¯é€šè¿‡è¡¥å…¨è¯æ˜ï¼‰

å› æ­¤å¯ä»¥ç”¨äºæ’åºã€‚

è€Œ `a+a > b+b` ä¸æ»¡è¶³è¿™äº›æ€§è´¨ï¼Œä¹Ÿä¸èƒ½ä¿è¯å…¨å±€æœ€ä¼˜ã€‚

---

### âœ… ä½•æ—¶ `a+a > b+b` å’Œ `a+b > b+a` ç»“æœç›¸åŒï¼Ÿ

åœ¨ä¸€äº›ç®€å•æƒ…å†µä¸‹å¯èƒ½ä¸€è‡´ï¼Œä¾‹å¦‚ï¼š

- `a = "9", b = "8"`ï¼š
    - `a+a = "99" > "88" = b+b` â†’ `"9"` æ’å‰
    - `a+b = "98" > "89" = b+a` â†’ `"9"` æ’å‰ âœ… ä¸€è‡´

ä½†è¿™åªæ˜¯å·§åˆï¼Œå› ä¸ºå•å­—ç¬¦æƒ…å†µä¸‹ `a+a > b+b` æœ¬è´¨ä¸Šæ¯”è¾ƒçš„æ˜¯ `a > b`ï¼Œå’Œæ‹¼æ¥ä¸€è‡´ã€‚

ä¸€æ—¦æ¶‰åŠå¤šå­—ç¬¦ã€ä¸åŒé•¿åº¦ï¼Œå°±ä¼šå‡ºé”™ã€‚

---

### âœ… ç»“è®º

| è§„åˆ™              | æ˜¯å¦æ­£ç¡® | è¯´æ˜            |
| --------------- | ---- | ------------- |
| `a + b > b + a` | âœ… æ­£ç¡® | ç»å…¸è´ªå¿ƒç­–ç•¥ï¼Œä¿è¯æ‹¼æ¥æœ€å¤§ |
| `a + a > b + b` | âŒ é”™è¯¯ | å¿½ç•¥äº¤äº’ï¼Œä¼šå¯¼è‡´é”™è¯¯æ’åº  |

---

### ğŸ”š å›ç­”ä½ çš„é—®é¢˜ï¼š

> **ä¼šä¸ä¼šå‡ºé—®é¢˜ï¼Ÿ**  
> **ä¼šï¼** åœ¨å¤šä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸åŒã€å­˜åœ¨å‰ç¼€å…³ç³»æ—¶ï¼ˆå¦‚ `"9"` vs `"91"`ï¼‰ï¼Œä¸€å®šä¼šå‡ºé”™ã€‚

> **ä¸æ­£ç¡®ç¨‹åºåœ¨ä½•ç§æƒ…å†µä¸‹æ¯”è¾ƒç»“æœä¸åŒï¼Ÿ**  
> å½“ä¸¤ä¸ªå­—ç¬¦ä¸² `a` å’Œ `b` æ»¡è¶³ï¼š
> 
> - `a + b > b + a`ï¼ˆå³ `a` åº”æ’å‰ï¼‰
> - ä½† `a + a < b + b`ï¼ˆå³ä½ çš„è§„åˆ™è®¤ä¸º `b` åº”æ’å‰ï¼‰
> 
> å…¸å‹æƒ…å†µæ˜¯ï¼š**ä¸€ä¸ªçŸ­è€Œâ€œå¼€å¤´å¤§â€çš„å­—ç¬¦ä¸² vs ä¸€ä¸ªé•¿ä½†â€œåç»­å°â€çš„å­—ç¬¦ä¸²**ï¼Œä¾‹å¦‚ï¼š
> 
> - `"9"` vs `"91"`
> - `"8"` vs `"87"`
> - `"1"` vs `"10"`

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ çš„æ’åºä¼šæŠŠé•¿ä¸²æ’å‰ï¼Œå¯¼è‡´æ‹¼æ¥ç»“æœæ›´å°ã€‚

---

### âœ… å»ºè®®

è¯·åŠ¡å¿…ä½¿ç”¨æ­£ç¡®çš„è´ªå¿ƒæ’åºï¼š

```python
def cmp(a, b):
    if a + b > b + a:
        return -1  # a æ’å‰é¢
    elif a + b < b + a:
        return 1   # b æ’å‰é¢
    else:
        return 0
```

è¿™æ‰æ˜¯è§£å†³æ­¤ç±»â€œæœ€å¤§æ‹¼æ¥æ•°â€é—®é¢˜çš„æ ‡å‡†æ–¹æ³•ã€‚





$$10^{A-1}\leq a\leq10^{A}$$
$$10^{B-1}\leq b\leq10^{B}$$
è‹¥
$$
10^Ba+b>10^Ab+a
$$
è¯æ˜ï¼š
$$
\frac{a}{10^A-1}>\frac{b}{10^B-1}
$$

Proof.
$$
10^Ba-a>10^Ab-b
$$
$$
(10^B-1)a>(10^A-1)b
$$
$$
\frac{a}{10^A-1}>\frac{b}{10^B-1}
$$
Q.E.D.

åŒç±»å‹é¢˜ç›®ï¼šæœ€å¤§ä¸æœ€å°æ•´æ•°
```python
n = int(input())
a = [i for i in input().split()]
a = sorted(a,key = lambda x: int(x) / (10**(len(x))-1))
print(''.join(a[::-1]),''.join(a))
```
![[Pasted image 20251022155036.png]]


---

è·³æˆ¿å­
```python
from collections import deque

while True:
    n,m = map(int,input().split())
    if n == 0 and m == 0:
        break
    # Create a deque object
    queue = deque()
    
    queue.append([n,'']) # position, sequence
    visited = {n}
    if m == n:
        print('1\n\n')
    while True:
        pos,seq = queue.popleft()
        for i in range(2):
            if i==0:
                nowpos, nowseq = pos * 3, seq + 'H'
            else:
                nowpos, nowseq = pos // 2, seq + 'O'
            if nowpos in visited:
                continue
            queue.append([nowpos,nowseq])
            visited.add(nowpos)
            if nowpos == m:
                print(len(nowseq))
                print(nowseq)
                break
        if nowpos == m:
            break
        if len(nowseq) > 25:
            print('no solution')
            break

```

---
æŠ¤æ—å‘˜ç›–æˆ¿å­ï¼šå•è°ƒæ ˆ
è¿™ä¸ªå•è°ƒæ ˆæèµ·æ¥çœŸéº»çƒ¦ï¼Œä¸€å¼€å§‹è°ƒè¯•çš„æ—¶å€™æ­»æ´»è°ƒä¸å¯¹ã€‚è¿™ä¸ªå’Œæ¥é›¨æ°´æ˜¯ç±»ä¼¼çš„ï¼Œéƒ½éœ€è¦æ‰¾åˆ°ä¸‹å‡¹æˆ–è€…ä¸Šçªåºåˆ—å¹¶ç»Ÿè®¡ã€‚å•è°ƒæ ˆå¯ä»¥ç†è§£ä¸ºï¼šæ¯æ¬¡å¼¹å‡ºéƒ½ç›¸å½“äºå¡«å¹³æ²Ÿå£‘ï¼ˆæˆ–è€…å‰Šå¹³å±±å³°ï¼‰
ä»¥æ¥é›¨æ°´ä¸ºä¾‹ï¼š
![[44630d64-9738-4797-819c-8a742cfc552d.png]]

```python
n,m = map(int,input().split())
mapp = []
for i in range(n):
    mapp.append([int(_) for _ in input().split()])
stack = []
max_area = 0

def cmp(x,y):
    return x[1] > y[1]

def push(new):
    global stack,max_area
    popped = []
    while len(stack) and cmp(stack[-1],new):
        popped = stack.pop(-1)
        max_area = max(max_area,(new[0] - 1 - stack[-1][0]) * popped[1]) # new: forbidden; stack[-1]: forbidden; so the real length = new[0] - stack[-1][0] - 1
    stack.append(new)

linear_scan = [0] * (m)
for i in range(0,n):
    stack = [[-1,0]] # position & height
    for j in range(m):
        linear_scan[j] += 1
        linear_scan[j] *= (1 - mapp[i][j])
        push([j,linear_scan[j]])
    push([m,0])
print(max_area)

```
![[Pasted image 20251102104451.png]]

---

---
ç­‰ä»·ç±»åˆ’åˆ†
```python
m,n,k = map(int,input().split(','))
a = [[] for i in range(1000)]
for i in range(m+1,n):
    num = i
    summ = 0
    while num:
        summ += num % 10
        num //= 10
    if summ % k:
        continue
    a[summ // k].append(i)
for i in a:
    if i:
        print(','.join([str(j) for j in i]))
```
![[Pasted image 20251106171719.png]]

---
ä¸¤ä¸¤é…å¯¹
![[Pasted image 20251106171800.png]]
```python
n,d = map(int,input().split())
def judge(h):
    if not len(h):
        return True
    if h[1]-h[0] > d:
        return False
    return judge(h[2::])
h = [int(_) for _ in input().split()]
h = sorted(h)
if judge(h):
    print('Yes')
else:
    print('No')
```

---
æ´‹è‘±
```python
n = int(input())
mat = []
for i in range(n):
    mat.append([int(_) for _ in input().split()])
cnt = [0]*n
for i in range(n):
    for j in range(n):
        cnt[min(i,j,n-1-i,n-1-j)] += mat[i][j]
print(max(cnt))
```

![[Pasted image 20251106171840.png]]

---
æ•°çš„åˆ’åˆ†
```python
memory = {}
def divide(n,k,maxx):
    #print(f'n={n} k={k} maxx={maxx}')
    global memory
    if n<0:
        return 0
    if n==0:
        if k==0:
            return 1
        else:
            return 0
    if k==0:
        return 0
    if maxx*k < n:
        return 0
    if maxx*k == n:
        return 1
    if (n,k,maxx) in memory:
        return memory[(n,k,maxx)]
    result = 0
    for i in range(1,maxx+1):
        result += divide(n-i,k-1,i)
    memory[(n,k,maxx)] = result
    return result
n,k = map(int,input().split())
print(divide(n,k,n))
```
![[1dfc7d227eb84a7e391c5c817a9ca033.png]]

---
è´­ç‰©
```python
value, ncoin = map(int,input().split())
coins = [int(_) for _ in input().split()]
coins = sorted(coins,reverse = True)
available = 0
cnt = 0
while available < value:
    # studying available + 1
    for coin in coins:
        if available + 1 - coin >= 0:
            cnt += 1
            available += coin
            break
print(cnt)
```
![[Pasted image 20251106172008.png]]

---
æ’é˜Ÿ
```python
n,d = map(int,input().split())
h = []
for i in range(n):
    h.append(int(input()))
result = []
used = [False] * n
while len(result)<n:
    seq = [] # Those who can swap to the front
    cur_max = -1
    cur_min = 1e10
    for i in range(0,n):
        if used[i]:#skip used men
            continue
        cur_max = max(cur_max,h[i])
        cur_min = min(cur_min,h[i])
        if cur_max - h[i] <= d and h[i] - cur_min <= d:
            used[i] = True
            seq.append(h[i])
    result = result + sorted(seq)# Fronters float
for j in result:
    print(j)
```
![[Pasted image 20251106172049.png]]
## T25353:æ’é˜Ÿ

## é¢˜é¢ï¼š
Â æœ‰ N ååŒå­¦ä»å·¦åˆ°å³æ’æˆä¸€æ’ï¼Œç¬¬ i ååŒå­¦çš„èº«é«˜ä¸º hiã€‚ç°åœ¨å¼ è€å¸ˆæƒ³æ”¹å˜æ’é˜Ÿçš„é¡ºåºï¼Œä»–èƒ½è¿›è¡Œä»»æ„å¤šæ¬¡ï¼ˆåŒ…æ‹¬0æ¬¡ï¼‰å¦‚ä¸‹æ“ä½œï¼š

- å¦‚æœä¸¤ååŒå­¦ç›¸é‚»ï¼Œå¹¶ä¸”ä»–ä»¬çš„èº«é«˜ä¹‹å·®ä¸è¶…è¿‡ Dï¼Œé‚£ä¹ˆè€å¸ˆå°±èƒ½äº¤æ¢ä»–ä¿©çš„é¡ºåºã€‚

è¯·ä½ å¸®å¼ è€å¸ˆç®—ä¸€ç®—ï¼Œé€šè¿‡ä»¥ä¸Šæ“ä½œï¼Œå­—å…¸åºæœ€å°çš„æ‰€æœ‰åŒå­¦ï¼ˆä»å·¦åˆ°å³ï¼‰èº«é«˜åºåˆ—æ˜¯ä»€ä¹ˆï¼Ÿ

è¾“å…¥

ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ­£æ•´æ•° N, D ($1<=N<=10^5$, $1<=D<=10^9$)ã€‚  
æ¥ä¸‹å» N è¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ­£æ•´æ•° hiÂ ($1<=h_i<=10^9$) è¡¨ç¤ºä»å·¦åˆ°å³æ¯ååŒå­¦çš„èº«é«˜ã€‚

è¾“å‡º

è¾“å‡º N è¡Œï¼Œç¬¬ i è¡Œè¡¨ç¤ºç­”æ¡ˆä¸­ç¬¬ i ååŒå­¦çš„èº«é«˜ã€‚

æ ·ä¾‹è¾“å…¥
```python
5 3
7
7
3
6
2
```


æ ·ä¾‹è¾“å‡º
```python
6
7
7
2
3
```


æç¤º

ã€æ ·ä¾‹è§£é‡Šã€‘  
ä¸€ç§äº¤æ¢ä½ç½®çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š  
`7 7 3 6 2   -> 7 7 6 3 2   -> 7 7 6 2 3   -> 7 6 7 2 3   -> 6 7 7 2 3`  
  
ã€æ•°æ®èŒƒå›´å’Œçº¦å®šã€‘  
å¯¹äº 10% çš„æ•°æ®ï¼Œæ»¡è¶³ N<=100ï¼›  
å¯¹äºå¦å¤– 20% çš„æ•°æ®ï¼Œæ»¡è¶³ N<=5000ï¼›  
å¯¹äºå…¨éƒ¨æ•°æ®ï¼Œæ»¡è¶³ $1<=N<=10^5$, $1<=D<=10^9$, $1<=h_i<=10^9$ã€‚
å•ä¸ªæµ‹è¯•ç‚¹æ—¶é—´é™åˆ¶:Â  3000ms; Â 

---
## é¢˜è§£ï¼š

è§‚å¯Ÿï¼šå¦‚æœä¸€ä¸ªå…ƒç´ Aå‰é¢æœ‰ä¸ä¹‹ä¸å¯¹æ˜“çš„å…ƒç´ Bï¼ˆå·®è·å¤§äºDï¼‰ï¼Œåˆ™Aä¸å¯èƒ½äº¤æ¢åˆ°Bä¹‹å‰
æ¨è®ºï¼šèƒ½å¤Ÿäº¤æ¢åˆ°é˜Ÿé¦–çš„å…ƒç´ $h_i$å¿…å®šèƒ½å¤Ÿæ»¡è¶³$\max(h_{1\sim i-1})\leq h_i+D$, $\min(h_{1\sim i-1})\leq h_i-D$
å› æ­¤æ‰«æé˜Ÿåˆ—ï¼Œå°†èƒ½å¤Ÿäº¤æ¢åˆ°é˜Ÿé¦–çš„å…ƒç´ ä¸­æœ€å°è€…äº¤æ¢åˆ°é˜Ÿé¦–
è€Œåç›¸åŒåŠæ³•å¤„ç†åç»­åºåˆ—

ç»§ç»­äº¤æ¢æ—¶ï¼šå°†åŸæ¥çš„å¯äº¤æ¢åˆ°é˜Ÿé¦–çš„å…ƒç´ ç§°ä¸ºé›†åˆ$S$. ä¸ºäº†ä¿è¯å­—å…¸åºæœ€å°ï¼Œæˆ‘ä»¬è¦æŠŠ$S$ä¸­çš„æœ€å°å…ƒç´ $s_1$äº¤æ¢åˆ°é˜Ÿé¦–ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†ç ”ç©¶ä»ç¬¬äºŒä¸ªå¼€å§‹çš„åºåˆ—ã€‚æ­¤æ—¶æˆ‘ä»¬åŒæ ·å¯»æ‰¾ç±»ä¼¼çš„é›†åˆ$S_1$. å®¹æ˜“å‘ç°ï¼Œ$S\backslash \{s_1\} \subset S_1$ï¼Œå¹¶ä¸”å¯ä»¥è¯æ˜$\min(S_1 \backslash S) \geq \min(S)$. å› æ­¤åº”è¯¥æ”¾åœ¨ç¬¬äºŒä½çš„å…ƒç´ ä¹Ÿæ˜¯Sä¸­ç¬¬äºŒå°çš„ï¼ˆåªè¦$S\backslash \{s_1\} \neq \emptyset$ï¼‰.ä¾æ­¤ç±»æ¨ï¼Œæœ€ç»ˆçš„æœ€ä¼˜åºåˆ—çš„å‰$\rm \# S$ä¸ªå…ƒç´ éƒ½åº”è¯¥æ˜¯é¡ºåºæ’åˆ—çš„$S$.è¿™æ ·ä¸€è½®åšå®Œä»¥åï¼Œé‡æ–°å¯»æ‰¾èƒ½å¤Ÿæ’åˆ°é˜Ÿé¦–çš„å…ƒç´ å¹¶æ’åºï¼Œå†è€ƒè™‘å‰©ä½™å…ƒç´ ï¼Œå¾ªç¯å¾€å¤ç›´åˆ°å®Œæˆ

$T_2$ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½æ»¡è¶³ï¼š
1. åœ¨åŸå›¾ä¸­å…¥åº¦ä¸ä¸º0
2. åœ¨åŸå›¾åˆ å»æœ€å°èŠ‚ç‚¹åå…¥åº¦ä¸º0
ç”±æ­¤å¯çŸ¥ï¼Œ$T_2$ä¸­æ‰€æœ‰çš„å…ƒç´ å”¯ä¸€çš„å…¥åº¦ä¸º$S_1$åˆšå–å‡ºçš„å…ƒç´ x
ä¹Ÿå°±æ˜¯è¯´
$$
\forall p\in T_2, |h_p-h_x|>D\ and\ \forall q\in S_1\backslash\{x\},\ |h_p-h_q|\leq D
$$
ç”±äº$x$ä¸º$S_1$ä¸­æœ€å°çš„å…ƒç´ ï¼Œåˆ†æä¸éš¾å¾—å‡º$T_2$ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½å¤§äº$h_x+D$.è€Œ$S_1$ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å°äºç­‰äº$h_x+D$.è¿™ä¹Ÿå°±æ„å‘³ç€$T_2$ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½å¤§äºç­‰äº$S_1$çš„å…ƒç´ .
è¯æ˜ï¼š$S_1$ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å°äºç­‰äº$h_x+D$ï¼š
1.è‹¥è€ƒå¯Ÿçš„å…ƒç´ åœ¨$h_x$å·¦ä¾§ï¼Œè‹¥è¯¥å…ƒç´ å¤§äº$h_x+D$ï¼Œåˆ™ç¬¬$x$ä¸ªå…ƒç´ å­˜åœ¨ä¸€æ¡å…¥è¾¹ï¼Œ$x\notin S_1$, çŸ›ç›¾ï¼
2.è‹¥è€ƒå¯Ÿçš„å…ƒç´ åœ¨$h_x$å³ä¾§ï¼Œè‹¥è¯¥å…ƒç´ å¤§äº$h_x+D$ï¼Œåˆ™å­˜åœ¨ç¬¬$x$ä¸ªå…ƒç´ æŒ‡å‘å®ƒçš„ä¸€æ¡å…¥è¾¹ï¼Œä¸è¯¥å…ƒç´ æ— å…¥è¾¹çŸ›ç›¾ï¼

---
AIä¼˜åŒ–ç‰ˆæœ¬ï¼š

## é—®é¢˜å®šä¹‰ä¸ DAG æ„å»º
- æœ‰ $N$ ååŒå­¦ï¼Œåˆå§‹åºåˆ—ä¸º $h_1, h_2, \dots, h_N$ã€‚
- æ“ä½œï¼šå¦‚æœç›¸é‚»ä¸¤ååŒå­¦çš„èº«é«˜å·® $|h_i - h_j| \leq D$ï¼Œåˆ™å¯ä»¥äº¤æ¢ä»–ä»¬çš„é¡ºåºã€‚
- ç›®æ ‡ï¼šé€šè¿‡æ“ä½œå¾—åˆ°å­—å…¸åºæœ€å°çš„èº«é«˜åºåˆ—ã€‚

å®šä¹‰æœ‰å‘å›¾ $G = (V, E)$ï¼Œå…¶ä¸­ $V = \{1, 2, \dots, N\}$ è¡¨ç¤ºåŒå­¦çš„åˆå§‹ç´¢å¼•ï¼Œè¾¹é›† $E$ å®šä¹‰å¦‚ä¸‹ï¼š
- å¯¹äºä»»æ„ $i < j$ï¼Œå¦‚æœ $|h_i - h_j| > D$ï¼Œåˆ™æ·»åŠ æœ‰å‘è¾¹ $i \to j$ã€‚
- **æ€§è´¨**ï¼š$G$ æ˜¯æœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ï¼Œå› ä¸ºè¾¹åªä»ç´¢å¼•å°çš„èŠ‚ç‚¹æŒ‡å‘ç´¢å¼•å¤§çš„èŠ‚ç‚¹ã€‚

### åºåˆ—ä¸ DAG çš„å…³ç³»
**å¼•ç† 1**ï¼šä¸€ä¸ªåºåˆ—æ˜¯é€šè¿‡æ“ä½œå¯åŠçš„å½“ä¸”ä»…å½“å®ƒæ˜¯ DAG $G$ çš„ä¸€ä¸ªæ‹“æ‰‘æ’åºã€‚
- **è¯æ˜**ï¼ˆç®€è¦ï¼‰ï¼š
  - å¿…è¦æ€§ï¼šå¦‚æœåºåˆ—å¯åŠï¼Œåˆ™å¯¹äºä»»æ„è¾¹ $i \to j$ï¼Œ$i$ å¿…é¡»åœ¨ $j$ ä¹‹å‰ï¼Œå¦åˆ™è¿åäº¤æ¢è§„åˆ™ï¼ˆå› ä¸º $|h_i - h_j| > D$ æ—¶æ— æ³•äº¤æ¢ï¼‰ã€‚
  - å……åˆ†æ€§ï¼šç”±ä¸‹é¢çš„ Claim è¯æ˜ã€‚

**Claim**ï¼šæ¯ä¸ª DAG $G$ çš„æ‹“æ‰‘æ’åºéƒ½æ˜¯æ“ä½œå¯åŠçš„ã€‚
- **è¯æ˜**ï¼ˆæ•°å­¦å½’çº³æ³•ï¼‰ï¼š
  - åŸºä¾‹ï¼ˆ$n = 1$ï¼‰ï¼šå¹³å‡¡ã€‚
  - å½’çº³å‡è®¾ï¼šå¯¹äºæ‰€æœ‰ $k < n$ï¼Œä»»ä½• $k$ èŠ‚ç‚¹ DAG çš„æ‹“æ‰‘æ’åºå¯åŠã€‚
  - å½’çº³æ­¥éª¤ï¼šè®¾ $S$ æ˜¯ $G$ çš„æ‹“æ‰‘æ’åºï¼Œé˜Ÿé¦–ä¸º $a$ã€‚ç”±äº $S$ æ˜¯æ‹“æ‰‘æ’åºï¼Œ$a$ çš„å…¥åº¦ä¸º 0ã€‚å¯¹äºæ‰€æœ‰åˆå§‹ç´¢å¼• $b < a$ï¼Œæœ‰ $|h_b - h_a| \leq D$ï¼ˆå¦åˆ™è¾¹ $b \to a$ å­˜åœ¨ï¼Œä¸ $a$ å…¥åº¦ä¸º 0 çŸ›ç›¾ï¼‰ã€‚å› æ­¤ï¼Œ$a$ å¯ä»¥é€šè¿‡ç›¸é‚»äº¤æ¢ç§»åŠ¨åˆ°é˜Ÿé¦–ï¼ˆå†’æ³¡æ’åºï¼‰ã€‚ç§»é™¤ $a$ åï¼Œå‰©ä½™åºåˆ—æ˜¯å­å›¾ $G \setminus \{a\}$ çš„æ‹“æ‰‘æ’åºï¼Œç”±å½’çº³å‡è®¾å¯åŠã€‚
**Claimï¼šæ¯ä¸ª DAG  çš„æ‹“æ‰‘æ’åºéƒ½æ˜¯æ“ä½œå¯åŠçš„ã€‚**

- **è¯æ˜**ï¼ˆé€’å½’å½¢å¼ï¼‰ï¼š
	- **åŸºä¾‹**ï¼ˆåºåˆ—é•¿åº¦ä¸º 1ï¼‰ï¼š  
	  å½“åºåˆ—åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œåªæœ‰ä¸€ä¸ªå¯èƒ½çš„åºåˆ—ï¼Œä¸”æ— æ³•è¿›è¡Œä»»ä½•äº¤æ¢æ“ä½œï¼Œå› æ­¤è¯¥åºåˆ—æ˜¯æ“ä½œå¯åŠçš„ã€‚
	
	- **é€’å½’æ­¥éª¤**ï¼ˆåºåˆ—é•¿åº¦ä¸º $n$ï¼‰ï¼š  
	  å‡è®¾å¯¹äºæ‰€æœ‰é•¿åº¦å°äº $n$ çš„åºåˆ—ï¼Œè¯¥Claimæˆç«‹ï¼ˆå³é€’å½’å‡è®¾ï¼‰ã€‚è€ƒè™‘ä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„DAG $G$ å’Œä¸€ä¸ªæ‹“æ‰‘æ’åº $S$ã€‚è®¾ $a$ æ˜¯ $S$ ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆé˜Ÿé¦–ï¼‰ã€‚
	
	  ç”±äº $S$ æ˜¯ $G$ çš„æ‹“æ‰‘æ’åºï¼ŒèŠ‚ç‚¹ $a$ åœ¨ $G$ ä¸­çš„å…¥åº¦ä¸º 0ã€‚æ ¹æ® DAG $G$ çš„å®šä¹‰ï¼Œè¾¹ $i \to j$ å­˜åœ¨å½“ä¸”ä»…å½“ $i < j$ ä¸” $|h_i - h_j| > D$ã€‚å› æ­¤ï¼Œå…¥åº¦ä¸º 0 æ„å‘³ç€å¯¹äºæ‰€æœ‰åˆå§‹ç´¢å¼• $b < a$ï¼Œæœ‰ $|h_b - h_a| \leq D$ï¼ˆå¦åˆ™è¾¹ $b \to a$ å­˜åœ¨ï¼Œä¸ $a$ å…¥åº¦ä¸º 0 çŸ›ç›¾ï¼‰ã€‚
	
	  ç°åœ¨ï¼Œä»åˆå§‹åºåˆ— $I$ å‡ºå‘ï¼Œæˆ‘ä»¬éœ€è¦è¯æ˜ $a$ å¯ä»¥é€šè¿‡æ“ä½œç§»åŠ¨åˆ°é˜Ÿé¦–ã€‚ç”±äºå¯¹äºæ‰€æœ‰åœ¨ $a$ å·¦è¾¹çš„å…ƒç´  $b$ï¼ˆå³åˆå§‹ç´¢å¼• $b < a$)ï¼Œæœ‰ $|h_b - h_a| \leq D$ï¼Œå› æ­¤ $a$ å¯ä»¥ä¸è¿™äº›ç›¸é‚»å…ƒç´ äº¤æ¢ã€‚å…·ä½“åœ°ï¼Œä» $a$ çš„å½“å‰ä½ç½®å¼€å§‹ï¼Œé‡å¤äº¤æ¢ $a$ ä¸å…¶å·¦è¾¹çš„ç›¸é‚»å…ƒç´ ï¼ˆæ¯æ¬¡äº¤æ¢éƒ½æ˜¯å…è®¸çš„ï¼Œå› ä¸ºèº«é«˜å·®ä¸è¶…è¿‡ $D$)ï¼Œç›´åˆ° $a$ åˆ°è¾¾é˜Ÿé¦–ã€‚è¿™ä¸ªè¿‡ç¨‹ç±»ä¼¼äºå†’æ³¡æ’åºï¼Œä¸”åªæ¶‰åŠ $a$ ä¸å·¦è¾¹å…ƒç´ çš„äº¤æ¢ï¼Œä¸å½±å“å…¶ä»–å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚
	
	  è®¾ $I'$ ä¸ºå°† $a$ ç§»åŠ¨åˆ°é˜Ÿé¦–åçš„åºåˆ—ï¼Œå³ $I' = (a, I_{-a})$ï¼Œå…¶ä¸­ $I_{-a}$ æ˜¯åˆå§‹åºåˆ—ç§»é™¤ $a$ åå‰©ä½™å…ƒç´ çš„åºåˆ—ï¼ˆä¿æŒåŸæœ‰é¡ºåºï¼‰ã€‚
	
	  æ¥ä¸‹æ¥ï¼Œè€ƒè™‘å­å›¾ $G' = G \setminus \{a\}$ï¼ˆå³ä» $G$ ä¸­ç§»é™¤èŠ‚ç‚¹ $a$ åŠå…¶ç›¸å…³è¾¹ï¼‰ã€‚åºåˆ— $S$ ç§»é™¤ $a$ åå¾—åˆ°åºåˆ— $S'$ï¼Œç”±äº $S$ æ˜¯ $G$ çš„æ‹“æ‰‘æ’åºï¼Œ$S'$ æ˜¯ $G'$ çš„æ‹“æ‰‘æ’åºã€‚åºåˆ— $I_{-a}$ æ˜¯ $G'$ çš„åˆå§‹åºåˆ—ï¼ˆå› ä¸º $I_{-a}$ æ˜¯å‰©ä½™å…ƒç´ çš„åˆå§‹é¡ºåºï¼‰ã€‚
	
	  ç”±äº $G'$ æœ‰ $n-1$ ä¸ªèŠ‚ç‚¹ï¼Œæ ¹æ®é€’å½’å‡è®¾ï¼Œä»»ä½• $G'$ çš„æ‹“æ‰‘æ’åºï¼ˆåŒ…æ‹¬ $S'$) éƒ½å¯ä»¥ä» $I_{-a}$ é€šè¿‡æ“ä½œè¾¾åˆ°ã€‚å› æ­¤ï¼Œä»åºåˆ— $I' = (a, I_{-a})$ å‡ºå‘ï¼Œå¯ä»¥é€šè¿‡æ“ä½œä»…å¯¹å‰©ä½™éƒ¨åˆ†è¿›è¡Œäº¤æ¢ï¼Œå°† $I_{-a}$ å˜ä¸º $S'$ï¼Œä»è€Œå¾—åˆ°åºåˆ— $(a, S') = S$ã€‚
	
	  å› æ­¤ï¼Œæ‹“æ‰‘æ’åº $S$ å¯ä»¥ä»åˆå§‹åºåˆ— $I$ é€šè¿‡æ“ä½œè¾¾åˆ°ã€‚
	
	ç”±é€’å½’åŸç†ï¼Œå¯¹äºä»»æ„é•¿åº¦ $n$ï¼Œæ¯ä¸ª DAG $G$ çš„æ‹“æ‰‘æ’åºéƒ½æ˜¯æ“ä½œå¯åŠçš„ã€‚

### è´ªå¿ƒç®—æ³•ï¼ˆåŸºäºå›¾è®ºï¼‰
æ ¹æ® Claimï¼Œé—®é¢˜è½¬åŒ–ä¸ºæ±‚ DAG $G$ çš„å­—å…¸åºæœ€å°æ‹“æ‰‘æ’åºã€‚ç®—æ³•å¦‚ä¸‹ï¼š
- è®¡ç®—æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦ã€‚
- ç»´æŠ¤ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰ï¼Œå­˜å‚¨å½“å‰å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹ï¼ŒæŒ‰èº«é«˜ $h_i$ æ’åºï¼ˆèº«é«˜ç›¸åŒæ—¶æŒ‰åˆå§‹ç´¢å¼•æ’åºï¼‰ã€‚
- æ¯æ¬¡ä»å †ä¸­å–å‡ºèº«é«˜æœ€å°çš„èŠ‚ç‚¹ $u$ï¼Œè¾“å‡º $h_u$ï¼Œå¹¶ç§»é™¤ $u$ åŠå…¶å‡ºè¾¹ï¼Œæ›´æ–°é‚»å±…å…¥åº¦ã€‚å¦‚æœé‚»å±…å…¥åº¦å˜ä¸º 0ï¼Œåˆ™åŠ å…¥å †ã€‚
- æ—¶é—´å¤æ‚åº¦ï¼š$O(N \log N)$ï¼Œä½†æ˜¾å¼æ„å»ºå›¾éœ€è¦ $O(N^2)$ æ—¶é—´ï¼Œå¯¹äºå¤§è§„æ¨¡æ•°æ®å¯èƒ½ä¸å¯è¡Œã€‚

## ä¼˜åŒ–
å¯ä»¥å¯¹ä»¥ä¸Šçš„æƒ³æ³•è¿›è¡Œä¼˜åŒ–ï¼Œä»¥é¿å…æ˜¾å¼æ„å»ºå›¾ï¼Œè€Œæ˜¯é€šè¿‡å¤šè½®æ‰«ææ‰¾åˆ°å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹é›†åˆã€‚è®¾ $S_1$ ä¸ºåˆå§‹å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹é›†åˆã€‚å½“ä» $S_1$ ä¸­å–å‡ºæœ€å°å…ƒç´  $x$ åï¼Œæ–°å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹é›†åˆè®°ä¸º $T_2$ã€‚ç”¨æˆ·æ–­è¨€ $T_2$ ä¸­æ‰€æœ‰å…ƒç´ çš„èº«é«˜éƒ½å¤§äº $S_1$ ä¸­å‰©ä½™å…ƒç´ çš„èº«é«˜ï¼Œå› æ­¤åœ¨ $S_1$ æœªè¢«å–å®Œæ—¶ï¼Œåªéœ€ä» $S_1$ ä¸­å–æœ€å°ï¼Œæ— éœ€è€ƒè™‘ $T_2$ã€‚ä»¥ä¸‹è¿›è¡Œä¸¥è°¨è¯æ˜ã€‚

#### å®šä¹‰å’Œç¬¦å·
- $S_1$: åˆå§‹å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹é›†åˆã€‚
- $x$: $S_1$ ä¸­èº«é«˜æœ€å°çš„èŠ‚ç‚¹ï¼ˆå³ $h_x = \min_{q \in S_1} h_q$)ã€‚
- $T_2$: åœ¨åˆ é™¤ $x$ åï¼Œå…¥åº¦å˜ä¸º 0 çš„èŠ‚ç‚¹é›†åˆã€‚

#### æ–­è¨€ä¸€ï¼š$\forall p \in T_2$, $|h_p - h_x| > D$
- **è¯æ˜**ï¼šç”±äº $p$ åœ¨åˆ é™¤ $x$ åå…¥åº¦å˜ä¸º 0ï¼Œä¸”åœ¨åˆ é™¤å‰ $p$ çš„å…¥åº¦æ­£å¥½ä¸º 1ï¼ˆä»…æ¥è‡ª $x$ï¼‰ï¼Œå› æ­¤è¾¹ $x \to p$ å­˜åœ¨ã€‚æ ¹æ®è¾¹å®šä¹‰ï¼Œ$x < p$ ä¸” $|h_x - h_p| > D$ï¼Œæ•… $|h_p - h_x| > D$.

#### æ–­è¨€äºŒï¼š$\forall p \in T_2$, $\forall q \in S_1 \setminus \{x\}$, $|h_p - h_q| \leq D$
- **è¯æ˜**ï¼šè€ƒè™‘ä»»æ„ $q \in S_1 \setminus \{x\}$ã€‚
  - æ¡ˆä¾‹ä¸€ï¼šå¦‚æœ $q < p$ï¼Œå‡è®¾ $|h_q - h_p| > D$ï¼Œåˆ™è¾¹ $q \to p$ å­˜åœ¨ã€‚ä½† $q$ åœ¨åˆ é™¤ $x$ å‰ä»åœ¨å›¾ä¸­ï¼Œä¸”æŒ‡å‘ $p$ï¼Œè¿™ä¸ $p$ åœ¨åˆ é™¤ $x$ å‰å…¥åº¦ä»…ä¸º 1ï¼ˆæ¥è‡ª $x$ï¼‰çŸ›ç›¾ã€‚å› æ­¤ $|h_q - h_p| \leq D$ã€‚
  - æ¡ˆä¾‹äºŒï¼šå¦‚æœ $p < q$ï¼Œå‡è®¾ $|h_p - h_q| > D$ï¼Œåˆ™è¾¹ $p \to q$ å­˜åœ¨ã€‚ä½† $q \in S_1$ æ„å‘³ç€ $q$ çš„åˆå§‹å…¥åº¦ä¸º 0ï¼Œå³æ²¡æœ‰è¾¹æŒ‡å‘ $q$ï¼ŒçŸ›ç›¾ã€‚å› æ­¤ $|h_p - h_q| \leq D$.
- ç»¼ä¸Šï¼Œ$\forall q \in S_1 \setminus \{x\}$, $|h_p - h_q| \leq D$.

#### æ–­è¨€ä¸‰ï¼š$\forall p \in T_2$, $h_p > h_x + D$
- **è¯æ˜**ï¼šä»æ–­è¨€ä¸€ï¼Œ$|h_p - h_x| > D$ï¼Œæ‰€ä»¥è¦ä¹ˆ $h_p > h_x + D$ è¦ä¹ˆ $h_p < h_x - D$ã€‚å‡è®¾ $h_p < h_x - D$ï¼Œåˆ™å¯¹äºä»»æ„ $q \in S_1 \setminus \{x\}$ï¼Œæœ‰ $h_q \geq h_x$ï¼ˆå› ä¸º $x$ æ˜¯ $S_1$ ä¸­æœ€å°ï¼‰ï¼Œæ‰€ä»¥ $|h_q - h_p| = h_q - h_p > h_x - (h_x - D) = D$ï¼Œä¸æ–­è¨€äºŒçŸ›ç›¾ã€‚å› æ­¤ $h_p > h_x + D$.

#### æ–­è¨€å››ï¼š$\forall q \in S_1$, $h_q \leq h_x + D$
- **è¯æ˜**ï¼šè€ƒè™‘ä»»æ„ $q \in S_1$ã€‚
  - æ¡ˆä¾‹ä¸€ï¼šå¦‚æœ $q < x$ï¼Œå‡è®¾ $h_q > h_x + D$ï¼Œåˆ™ $|h_q - h_x| > D$ï¼Œè¾¹ $q \to x$ å­˜åœ¨ï¼Œä¸ $x \in S_1$ï¼ˆå…¥åº¦ä¸º 0ï¼‰çŸ›ç›¾ã€‚å› æ­¤ $h_q \leq h_x + D$ã€‚
  - æ¡ˆä¾‹äºŒï¼šå¦‚æœ $q > x$ï¼Œå‡è®¾ $h_q > h_x + D$ï¼Œåˆ™ $|h_x - h_q| > D$ï¼Œè¾¹ $x \to q$ å­˜åœ¨ï¼Œä¸ $q \in S_1$ï¼ˆå…¥åº¦ä¸º 0ï¼‰çŸ›ç›¾ã€‚å› æ­¤ $h_q \leq h_x + D$.
- ç»¼ä¸Šï¼Œ$\forall q \in S_1$, $h_q \leq h_x + D$.

#### æ¨è®ºï¼š$\forall p \in T_2$, $\forall q \in S_1 \setminus \{x\}$, $h_p > h_q$
- **è¯æ˜**ï¼šä»æ–­è¨€ä¸‰å’Œæ–­è¨€å››ï¼Œ$h_p > h_x + D \geq h_q$ï¼Œæ‰€ä»¥ $h_p > h_q$.

å› æ­¤ï¼Œåœ¨åˆ é™¤ $x$ åï¼Œ$T_2$ ä¸­æ‰€æœ‰å…ƒç´ çš„èº«é«˜éƒ½å¤§äº $S_1$ ä¸­å‰©ä½™å…ƒç´ çš„èº«é«˜ã€‚è¿™æ„å‘³ç€åœ¨ $S_1$ æœªè¢«å–å®Œæ—¶ï¼Œå­—å…¸åºæœ€å°çš„é€‰æ‹©å§‹ç»ˆæ¥è‡ª $S_1$ ä¸­çš„æœ€å°å…ƒç´ ï¼Œæ— éœ€è€ƒè™‘ $T_2$.

### å½’çº³æ‰©å±•
ä¸Šè¿°è®ºè¯å¯å½’çº³åº”ç”¨äºç®—æ³•æ¯ä¸€æ­¥ï¼šåªè¦åˆå§‹ $S_1$ ä¸­è¿˜æœ‰èŠ‚ç‚¹æœªè¢«å–å‡ºï¼Œä»»ä½•æ–°ç”Ÿæˆçš„å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹ï¼ˆå¦‚ $T_2, T_3, \dots$ï¼‰çš„èº«é«˜éƒ½å¤§äº $S_1$ ä¸­å‰©ä½™èŠ‚ç‚¹çš„èº«é«˜ã€‚å› æ­¤ï¼Œç®—æ³•å¯ä¼˜å…ˆå¤„ç† $S_1$ ç›´åˆ°å…¶ä¸ºç©ºï¼Œå†å¤„ç†æ–°ç”Ÿæˆçš„é›†åˆã€‚

## åŸºäºå¤šè½®æ‰«æçš„ç®—æ³•
æ ¹æ®ä¸Šè¿°è®ºæ–­ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€ä¸ªä¸æ˜¾å¼æ„å»ºå›¾çš„ç®—æ³•ï¼Œé€šè¿‡å¤šè½®æ‰«æç›´æ¥æ‰¾åˆ°å½“å‰å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹é›†åˆ $S$ï¼Œæ’åºåè¾“å‡ºã€‚ç®—æ³•å¦‚ä¸‹ï¼š

#### ç®—æ³•æè¿°
- **è¾“å…¥**ï¼š$N, D$ å’Œèº«é«˜åˆ—è¡¨ $H = [h_1, h_2, \dots, h_N]$ã€‚
- **è¾“å‡º**ï¼šå­—å…¸åºæœ€å°çš„èº«é«˜åºåˆ—ã€‚
- **æ­¥éª¤**ï¼š
  1. åˆå§‹åŒ–ä¸€ä¸ªåˆ—è¡¨ $L$ï¼ŒåŒ…å«å…ƒç»„ $(h_i, i)$ for $i = 1, 2, \dots, N$ï¼Œå…¶ä¸­ $i$ æ˜¯åˆå§‹ç´¢å¼•ï¼ˆç”¨äºæ’åºæ—¶æ‰“ç ´å¹³å±€ï¼‰ã€‚
  2. åˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨ $R$ ç”¨äºå­˜å‚¨ç»“æœã€‚
  3. å½“ $L$ ä¸ä¸ºç©ºæ—¶ï¼š
     - åˆå§‹åŒ– $\text{current\_min} = \infty$, $\text{current\_max} = -\infty$ã€‚
     - åˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨ $S$ã€‚
     - å¯¹äº $L$ ä¸­çš„æ¯ä¸ªå…ƒç´  $(h, \text{idx})$ æŒ‰é¡ºåºï¼ˆå³æŒ‰åˆå§‹ç´¢å¼•é¡ºåºï¼‰ï¼š
       - æ£€æŸ¥æ¡ä»¶ï¼šå¦‚æœ $h \geq \text{current\_max} - D$ ä¸” $h \leq \text{current\_min} + D$ï¼Œåˆ™å°† $(h, \text{idx})$ åŠ å…¥ $S$ã€‚
       - æ›´æ–° $\text{current\_min} = \min(\text{current\_min}, h)$, $\text{current\_max} = \max(\text{current\_max}, h)$ã€‚
     - å°† $S$ æŒ‰èº«é«˜ $h$ ä»å°åˆ°å¤§æ’åºï¼Œå¦‚æœèº«é«˜ç›¸åŒï¼ŒæŒ‰åˆå§‹ç´¢å¼• $\text{idx}$ ä»å°åˆ°å¤§æ’åºã€‚
     - å°† $S$ ä¸­çš„å…ƒç´ ï¼ˆæŒ‰æ’åºåçš„é¡ºåºï¼‰è¿½åŠ åˆ° $R$ã€‚
     - ä» $L$ ä¸­ç§»é™¤ $S$ ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚
  4. è¾“å‡º $R$ ä¸­çš„èº«é«˜åºåˆ—ã€‚

#### ç®—æ³•æ­£ç¡®æ€§è¯æ˜
- **å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹è¯†åˆ«**ï¼šå¯¹äºåˆ—è¡¨ $L$ ä¸­çš„å…ƒç´ ï¼Œå…¥åº¦ä¸º 0 å½“ä¸”ä»…å½“å¯¹äºæ‰€æœ‰åœ¨å®ƒå·¦è¾¹çš„å…ƒç´ ï¼ˆåœ¨ $L$ ä¸­ï¼‰ï¼Œèº«é«˜å·®ä¸è¶…è¿‡ $D$ã€‚è¯¥æ¡ä»¶ç­‰ä»·äº $h \geq \text{current\_max} - D$ ä¸” $h \leq \text{current\_min} + D$ï¼Œå…¶ä¸­ $\text{current\_min}$ å’Œ $\text{current\_max}$ æ˜¯å½“å‰å·¦è¾¹å…ƒç´ çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚è¿™æ˜¯å› ä¸ºï¼š
  - å¿…è¦æ€§ï¼šå¦‚æœå…ƒç´ å…¥åº¦ä¸º 0ï¼Œåˆ™å®ƒä¸æ‰€æœ‰å·¦è¾¹å…ƒç´ èº«é«˜å·®ä¸è¶…è¿‡ $D$ï¼Œå°¤å…¶ä¸æœ€å°å€¼å’Œæœ€å¤§å€¼çš„å·®ä¸è¶…è¿‡ $D$ï¼Œæ‰€ä»¥æ¡ä»¶æ»¡è¶³ã€‚
  - å……åˆ†æ€§ï¼šå¦‚æœæ¡ä»¶æ»¡è¶³ï¼Œåˆ™å¯¹äºä»»æ„å·¦è¾¹å…ƒç´  $h_j$ï¼Œæœ‰ $|h_j - h| \leq \max(\text{current\_max} - h, h - \text{current\_min}) \leq D$ã€‚
- **è¾“å‡ºé¡ºåºçš„å­—å…¸åºæœ€å°**ï¼šæ ¹æ®è®ºæ–­ï¼Œåœ¨æ¯ä¸€è½®ä¸­ï¼Œé›†åˆ $S$ ä¸­çš„å…ƒç´ æ˜¯å½“å‰å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹ï¼Œä¸”è¾“å‡º $S$ ä¸­æœ€å°èº«é«˜å…ƒç´ ï¼ˆåŒæ—¶æ’åºï¼‰ä¸ä¼šå½±å“åç»­é€‰æ‹©ï¼Œå› ä¸ºæ–°ç”Ÿæˆçš„å…¥åº¦ä¸º 0 çš„èŠ‚ç‚¹èº«é«˜éƒ½å¤§äº $S$ ä¸­å‰©ä½™å…ƒç´ ã€‚å› æ­¤ï¼ŒæŒ‰æ’åºé¡ºåºè¾“å‡º $S$ ç¡®ä¿å­—å…¸åºæœ€å°ã€‚

#### æ—¶é—´å¤æ‚åº¦åˆ†æ
- æœ€åæƒ…å†µä¸‹ï¼Œæ¯æ¬¡è¿­ä»£å¯èƒ½åªç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼Œå¯¼è‡´ $O(N)$ æ¬¡è¿­ä»£ï¼Œæ¯æ¬¡è¿­ä»£éœ€è¦ $O(|L|)$ æ—¶é—´ï¼Œæ€»æ—¶é—´å¤æ‚åº¦ä¸º $O(N^2)$ã€‚
- å¯¹äº $N \leq 10^5$ï¼Œæœ€åæƒ…å†µ $O(N^2)$ å¯èƒ½è¾ƒæ…¢ï¼Œä½†å¹³å‡æƒ…å†µä¸‹å¯èƒ½æ›´å¿«ã€‚å¯ä»¥é€šè¿‡ç»´æŠ¤é“¾è¡¨æˆ–å…¶ä»–æ•°æ®ç»“æ„ä¼˜åŒ–æ‰«æè¿‡ç¨‹ï¼Œä½†æœ¬ç®—æ³•ç®€å•ä¸”åŸºäºæ•°å­¦è®ºæ–­ã€‚

## æ ·ä¾‹åº”ç”¨
è¾“å…¥ï¼š
```
5 3
7
7
3
6
2
```
- åˆå§‹ $L = [(7,1), (7,2), (3,3), (6,4), (2,5)]$ã€‚
- **è¿­ä»£ 1**ï¼š
  - æ‰«æ $L$ï¼š
    - (7,1): current_min=7, current_max=7, æ¡ä»¶ï¼š7 â‰¥ 7-3=4 ä¸” 7 â‰¤ 7+3=10 â†’ çœŸï¼ŒåŠ å…¥ Sã€‚
    - (7,2): current_min=7, current_max=7, æ¡ä»¶ï¼š7 â‰¥ 7-3=4 ä¸” 7 â‰¤ 7+3=10 â†’ çœŸï¼ŒåŠ å…¥ Sã€‚
    - (3,3): current_min=7, current_max=7, æ¡ä»¶ï¼š3 â‰¥ 7-3=4 ä¸” 3 â‰¤ 7+3=10 â†’ 3â‰¥4 å‡ï¼Œä¸åŠ å…¥ã€‚
    - (6,4): current_min=7, current_max=7, æ¡ä»¶ï¼š6 â‰¥ 7-3=4 ä¸” 6 â‰¤ 7+3=10 â†’ çœŸï¼ŒåŠ å…¥ Sã€‚
    - (2,5): current_min=7, current_max=7, æ¡ä»¶ï¼š2 â‰¥ 7-3=4 ä¸” 2 â‰¤ 7+3=10 â†’ 2â‰¥4 å‡ï¼Œä¸åŠ å…¥ã€‚
  - S = [(7,1), (7,2), (6,4)]ï¼Œæ’åºåä¸º [(6,4), (7,1), (7,2)]ã€‚
  - R = [6, 7, 7]ã€‚
  - æ–° $L = [(3,3), (2,5)]$ã€‚
- **è¿­ä»£ 2**ï¼š
  - æ‰«æ $L$ï¼š
    - (3,3): current_min=3, current_max=3, æ¡ä»¶ï¼š3 â‰¥ 3-3=0 ä¸” 3 â‰¤ 3+3=6 â†’ çœŸï¼ŒåŠ å…¥ Sã€‚
    - (2,5): current_min=3, current_max=3, æ¡ä»¶ï¼š2 â‰¥ 3-3=0 ä¸” 2 â‰¤ 3+3=6 â†’ çœŸï¼ŒåŠ å…¥ Sã€‚
  - S = [(3,3), (2,5)]ï¼Œæ’åºåä¸º [(2,5), (3,3)]ã€‚
  - R = [6, 7, 7, 2, 3]ã€‚
  - $L$ ä¸ºç©ºã€‚
- è¾“å‡ºï¼š6, 7, 7, 2, 3ï¼Œä¸æ ·ä¾‹ä¸€è‡´ã€‚

## ç»“è®º
é€šè¿‡ä¸¥è°¨çš„æ•°å­¦æ¨æ¼”ï¼Œç”¨æˆ·æå‡ºçš„ä¼˜åŒ–è®ºæ–­æˆç«‹ï¼Œå¹¶åŸºäºæ­¤è®¾è®¡äº†å¤šè½®æ‰«æç®—æ³•ã€‚è¯¥ç®—æ³•é¿å…äº†æ˜¾å¼æ„å»ºå›¾ï¼Œåˆ©ç”¨æ•°å­¦è®ºæ–­ç¡®ä¿æ­£ç¡®æ€§ï¼Œä¸”å®ç°ç®€å•ã€‚è™½ç„¶æœ€åæ—¶é—´å¤æ‚åº¦ä¸º $O(N^2)$ï¼Œä½†å¯¹äºéƒ¨åˆ†æ•°æ®å¯èƒ½é«˜æ•ˆï¼Œä¸”ç¬¦åˆç”¨æˆ·è¦æ±‚ã€‚

ç­‰ä»·ç±»æ€è·¯ï¼š

è€ƒè™‘æ‰€æœ‰èƒ½å¤Ÿäº¤æ¢åˆ°ç¬¬ä¸€ä¸ªä½ç½®çš„å…ƒç´ ï¼Œå®šä¹‰ï¼š
$$
\text{for list L and element A }\in L,A\in \rm Class_1 \overset{\rm def}{\Leftrightarrow}A \text{can be swapped to head}
$$
å®¹æ˜“è¯æ˜ï¼Œä»»ä½•å¯¹æ¢æ“ä½œéƒ½ä¸ä¼šæ”¹å˜$\rm Class_1$
ç±»ä¼¼åœ°å®šä¹‰ï¼š
$$
\text{for list }L\backslash \rm Class_1 \text{ and element B }\in L\backslash \rm Class_1,B\in \rm Class_2 \overset{\rm def}{\Leftrightarrow}B \text{can be swapped to head}
$$
Prove:
Bä¸­æ‰€æœ‰å…ƒç´ ä¸€å®šä½äºAä¹‹å


## ç­‰ä»·ç±»

**å®šä¹‰ï¼š** å¯¹äºåºåˆ— $L$ï¼Œå®šä¹‰ $\text{Class}_1(L)$ ä¸ºæ‰€æœ‰èƒ½å¤Ÿé€šè¿‡ç›¸é‚»äº¤æ¢æ“ä½œç§»åŠ¨åˆ°åºåˆ—æœ€å‰ä½ç½®çš„å…ƒç´ é›†åˆã€‚

**æ€§è´¨1ï¼ˆå°é—­æ€§ï¼‰ï¼š** ä»»ä½•å¯¹æ¢æ“ä½œéƒ½ä¸ä¼šæ”¹å˜ $\text{Class}_1(L)$ã€‚
- **è¯æ˜ï¼š** è€ƒè™‘å…ƒç´  $x \in \text{Class}_1(L)$ å’Œ $y \notin \text{Class}_1(L)$ã€‚å¦‚æœäº¤æ¢ $x$ å’Œ $y$ï¼š
  - è‹¥äº¤æ¢å $x$ ä»åœ¨ $y$ å·¦ä¾§ï¼Œåˆ™ $x$ ä»èƒ½é€šè¿‡åç»­äº¤æ¢åˆ°è¾¾é˜Ÿé¦–ï¼ˆå› ä¸º $x$ åŸæœ¬èƒ½åˆ°è¾¾é˜Ÿé¦–ï¼Œè¯´æ˜å®ƒä¸å·¦ä¾§æ‰€æœ‰å…ƒç´ å¯äº¤æ¢ï¼‰
  - è‹¥äº¤æ¢å $x$ åœ¨ $y$ å³ä¾§ï¼Œç”±äº $y \notin \text{Class}_1(L)$ï¼Œå­˜åœ¨ $y$ å·¦ä¾§çš„æŸä¸ªå…ƒç´  $z$ ä½¿å¾— $|h_y - h_z| > D$ã€‚ä½† $x$ å¯ä»¥è¶Šè¿‡ $y$ï¼ˆå› ä¸º $x \in \text{Class}_1(L)$ æ„å‘³ç€ $|h_x - h_y| \leq D$ï¼‰ï¼Œç„¶åç»§ç»­è¶Šè¿‡ $z$ï¼ˆéœ€è¦éªŒè¯ $|h_x - h_z| \leq D$ï¼‰ã€‚å®é™…ä¸Šï¼Œç”±äº $x$ åŸæœ¬èƒ½åˆ°è¾¾é˜Ÿé¦–ï¼Œå®ƒä¸æ‰€æœ‰å…ƒç´ ï¼ˆåŒ…æ‹¬ $z$ï¼‰éƒ½å¯äº¤æ¢ï¼Œæ‰€ä»¥ $|h_x - h_z| \leq D$ã€‚å› æ­¤ $x$ ä»èƒ½åˆ°è¾¾é˜Ÿé¦–ã€‚

**æ€§è´¨2ï¼ˆå‰ç¼€æ€§ï¼‰ï¼š** $\text{Class}_1(L)$ æ„æˆ $L$ çš„ä¸€ä¸ªè¿ç»­å‰ç¼€ã€‚
- **è¯æ˜ï¼š** è®¾ $\text{Class}_1(L)$ ä¸­ä½ç½®æœ€é åçš„å…ƒç´ ä¸º $a_k$ï¼ˆåœ¨ä½ç½® $k$ï¼‰ã€‚å¯¹äºä»»æ„ $i < k$ï¼Œå…ƒç´  $a_i$ æ˜¯å¦å±äº $\text{Class}_1(L)$ï¼Ÿç”±äº $a_k$ èƒ½åˆ°è¾¾é˜Ÿé¦–ï¼Œå®ƒå¿…é¡»èƒ½ä¸æ‰€æœ‰å·¦ä¾§å…ƒç´ äº¤æ¢ï¼Œç‰¹åˆ«åœ°ï¼Œ$|h_{a_k} - h_{a_i}| \leq D$ã€‚è¿™æ„å‘³ç€ $a_i$ ä¹Ÿèƒ½é€šè¿‡äº¤æ¢åˆ°è¾¾é˜Ÿé¦–ï¼ˆå…ˆä¸ $a_k$ äº¤æ¢ï¼Œå†åˆ©ç”¨ $a_k$ çš„äº¤æ¢è·¯å¾„ï¼‰ï¼Œæ‰€ä»¥ $a_i \in \text{Class}_1(L)$ã€‚

**é€’å½’å®šä¹‰ï¼š** å¯¹äº $L \setminus \text{Class}_1(L)$ï¼Œå®šä¹‰ $\text{Class}_2(L)$ ä¸ºåœ¨è¯¥å­åºåˆ—ä¸­èƒ½åˆ°è¾¾é˜Ÿé¦–çš„å…ƒç´ é›†åˆï¼Œä¾æ­¤ç±»æ¨ã€‚

**å…³é”®å¼•ç†ï¼š** å¯¹äº $B \in \text{Class}_2(L)$ï¼Œåœ¨åŸå§‹åºåˆ— $L$ ä¸­ï¼Œ$B$ ä¸€å®šä½äºæ‰€æœ‰ $A \in \text{Class}_1(L)$ ä¹‹åã€‚
- **è¯æ˜ï¼ˆåè¯æ³•ï¼‰ï¼š** å‡è®¾å­˜åœ¨ $B \in \text{Class}_2(L)$ åœ¨æŸä¸ª $A \in \text{Class}_1(L)$ ä¹‹å‰ã€‚ç”±äº $A \in \text{Class}_1(L)$ï¼Œ$A$ å¯ä»¥äº¤æ¢åˆ°é˜Ÿé¦–ï¼Œç‰¹åˆ«åœ°ï¼Œ$A$ å¯ä»¥äº¤æ¢åˆ° $B$ ä¹‹å‰ã€‚è¿™æ„å‘³ç€ $|h_A - h_B| \leq D$ï¼ˆå¦åˆ™æ— æ³•äº¤æ¢ï¼‰ã€‚ä½† $B$ åœ¨ $A$ ä¹‹å‰ï¼Œä¸”å®ƒä»¬å¯äº¤æ¢ï¼Œå› æ­¤ $B$ ä¹Ÿå¯ä»¥é€šè¿‡äº¤æ¢åˆ°è¾¾é˜Ÿé¦–ï¼ˆå…ˆä¸ $A$ äº¤æ¢ï¼Œå†åˆ©ç”¨ $A$ çš„äº¤æ¢è·¯å¾„ï¼‰ï¼Œä»è€Œ $B \in \text{Class}_1(L)$ï¼ŒçŸ›ç›¾ã€‚

**æ¨è®ºï¼š** è¿™äº›ç­‰ä»·ç±» $\text{Class}_1, \text{Class}_2, \ldots$ å½¢æˆäº†åºåˆ—çš„ä¸€ä¸ªåˆ†å±‚ç»“æ„ï¼Œæ»¡è¶³ï¼š
1. æ¯ä¸ªç±»å†…éƒ¨çš„å…ƒç´ å¯ä»¥ä»»æ„æ’åˆ—ï¼ˆé€šè¿‡äº¤æ¢ï¼‰
2. ç±»ä¹‹é—´çš„ç›¸å¯¹é¡ºåºå›ºå®šï¼ˆåä¸€ç±»å…ƒç´ ä¸èƒ½è¶Šè¿‡å‰ä¸€ç±»ï¼‰

**ç®—æ³•æ„ä¹‰ï¼š** ä¸ºäº†å¾—åˆ°å­—å…¸åºæœ€å°çš„åºåˆ—ï¼Œæˆ‘ä»¬åªéœ€ï¼š
1. æ‰¾å‡º $\text{Class}_1$ï¼Œå°†å…¶å…ƒç´ æŒ‰å‡åºæ’åˆ—
2. å¯¹å‰©ä½™åºåˆ—é€’å½’åº”ç”¨ç›¸åŒè¿‡ç¨‹

æ‚¨æŒ‡å‡ºçš„é—®é¢˜éå¸¸å…³é”®ï¼ç¡®å®ï¼ŒClassâ‚ ä¸ä¸€å®šæ„æˆè¿ç»­å‰ç¼€ã€‚æ„Ÿè°¢æ‚¨çš„çº æ­£ã€‚è®©æˆ‘ä»¬é‡æ–°è®ºè¯ Classâ‚‚ çš„å°é—­æ€§ï¼š

## Classâ‚‚ çš„å°é—­æ€§è¯æ˜

**å®šä¹‰ï¼š** è®¾åŸå§‹åºåˆ—ä¸º $L$ï¼Œ$\text{Class}_1(L)$ æ˜¯èƒ½äº¤æ¢åˆ°é˜Ÿé¦–çš„å…ƒç´ é›†åˆã€‚ä»¤ $L_1 = L \setminus \text{Class}_1(L)$ï¼Œ$\text{Class}_2(L)$ æ˜¯åœ¨ $L_1$ ä¸­èƒ½äº¤æ¢åˆ° $L_1$ é˜Ÿé¦–çš„å…ƒç´ é›†åˆã€‚

**è¦è¯æ˜ï¼š** å¯¹ $\text{Class}_1(L)$ ä¸­çš„å…ƒç´ è¿›è¡Œä»»æ„æ’åºï¼ˆåŒ…æ‹¬æŒ‰å‡åºæ’åºä»¥æœ€å°åŒ–å­—å…¸åºï¼‰ä¸ä¼šæ”¹å˜ $\text{Class}_2(L)$ çš„æˆå‘˜ã€‚

**è¯æ˜æ€è·¯ï¼š**
è€ƒè™‘ä»»æ„ $B \in \text{Class}_2(L)$ å’Œä»»æ„ $A \in \text{Class}_1(L)$ã€‚æˆ‘ä»¬éœ€è¦è¯æ˜ï¼Œæ— è®º $A$ åœ¨ $\text{Class}_1(L)$ ä¸­çš„é¡ºåºå¦‚ä½•å˜åŒ–ï¼Œ$B$ åœ¨ $L_1$ ä¸­ä»èƒ½åˆ°è¾¾ $L_1$ çš„é˜Ÿé¦–ã€‚

**å…³é”®è§‚å¯Ÿ1ï¼š** å¯¹äº $B \in \text{Class}_2(L)$ï¼Œ$B$ ä¸èƒ½è¶Šè¿‡ $A \in \text{Class}_1(L)$ è€Œåˆ°è¾¾åŸå§‹åºåˆ— $L$ çš„é˜Ÿé¦–ã€‚
- å› ä¸ºå¦‚æœ $B$ èƒ½åˆ°è¾¾ $L$ çš„é˜Ÿé¦–ï¼Œåˆ™ $B \in \text{Class}_1(L)$ï¼ŒçŸ›ç›¾ã€‚

**å…³é”®è§‚å¯Ÿ2ï¼š** $B$ ä¸ $\text{Class}_1(L)$ ä¸­å…ƒç´ çš„å…³ç³»ï¼š
1. å¦‚æœ $A$ åœ¨åŸå§‹åºåˆ—ä¸­ä½äº $B$ ä¹‹åï¼Œåˆ™ $|h_A - h_B| \leq D$ï¼ˆå¦åˆ™ $B$ æ— æ³•åˆ°è¾¾ $L_1$ é˜Ÿé¦–ï¼Œå› ä¸º $A$ ä¼šé˜»æŒ¡å®ƒï¼‰ã€‚
2. å¦‚æœ $A$ åœ¨åŸå§‹åºåˆ—ä¸­ä½äº $B$ ä¹‹å‰ï¼Œåˆ™ $|h_A - h_B| > D$ï¼ˆå¦åˆ™ $B$ å¯ä»¥è¶Šè¿‡ $A$ è¿›å…¥ $\text{Class}_1(L)$ï¼‰ã€‚

**è¯æ˜ï¼š**
è®¾æˆ‘ä»¬å¯¹ $\text{Class}_1(L)$ è¿›è¡Œä»»æ„é‡æ’å¾—åˆ°åºåˆ— $L'$ï¼Œå¹¶ä»¤ $L_1' = L' \setminus \text{Class}_1(L)$ã€‚

å¯¹äº $B \in \text{Class}_2(L)$ï¼Œæˆ‘ä»¬éœ€è¦è¯æ˜ $B$ åœ¨ $L_1'$ ä¸­ä»èƒ½åˆ°è¾¾é˜Ÿé¦–ï¼š

1. **è€ƒè™‘ $L_1$ ä¸­ä½äº $B$ ä¹‹å‰çš„å…ƒç´ **ï¼š
   - è¿™äº›å…ƒç´ åœ¨ $L_1'$ ä¸­ä»åœ¨ $B$ ä¹‹å‰ï¼ˆå› ä¸º $\text{Class}_1(L)$ çš„å…ƒç´ è¢«ç§»é™¤ï¼Œ$L_1$ ä¸­çš„ç›¸å¯¹é¡ºåºä¸å˜ï¼‰ã€‚
   - ç”±äº $B \in \text{Class}_2(L)$ï¼Œ$B$ ä¸ $L_1$ ä¸­ä½äºå…¶å‰çš„æ‰€æœ‰å…ƒç´  $X$ æ»¡è¶³ $|h_B - h_X| \leq D$ã€‚
   
2. **è€ƒè™‘ $\text{Class}_1(L)$ ä¸­å…ƒç´ çš„å½±å“**ï¼š
   - åœ¨ $L_1'$ ä¸­ï¼Œ$B$ å‰é¢å¯èƒ½æœ‰ä¸€äº› $\text{Class}_1(L)$ ä¸­çš„å…ƒç´ ï¼Œä½†è¿™äº›å…ƒç´ åœ¨ $L_1'$ ä¸­å®é™…ä¸Šå·²ç»è¢«ç§»é™¤ã€‚
   - æ›´å‡†ç¡®åœ°è¯´ï¼Œ$L_1'$ çš„å®šä¹‰æ˜¯ç§»é™¤ $\text{Class}_1(L)$ åçš„åºåˆ—ï¼Œæ‰€ä»¥ $B$ åœ¨ $L_1'$ å‰é¢æ²¡æœ‰ $\text{Class}_1(L)$ çš„å…ƒç´ ã€‚
   
3. **å› æ­¤ $B$ åœ¨ $L_1'$ ä¸­çš„å¯è¾¾æ€§**ï¼š
   - $L_1'$ ä¸­ä½äº $B$ ä¹‹å‰çš„å…ƒç´ æ˜¯ $L_1$ ä¸­ä½äº $B$ ä¹‹å‰çš„å…ƒç´ çš„å­é›†ï¼ˆå¯èƒ½ç›¸ç­‰ï¼‰ã€‚
   - æ—¢ç„¶ $B$ èƒ½ä¸ $L_1$ ä¸­æ‰€æœ‰å…¶å‰å…ƒç´ äº¤æ¢ï¼Œå®ƒå½“ç„¶ä¹Ÿèƒ½ä¸ $L_1'$ ä¸­çš„è¿™äº›å…ƒç´ äº¤æ¢ã€‚
   - æ‰€ä»¥ $B$ ä»èƒ½åˆ°è¾¾ $L_1'$ çš„é˜Ÿé¦–ã€‚

**åä¹‹ï¼Œ** å¯¹äº $C \notin \text{Class}_2(L)$ï¼ŒåŒæ ·å¯ä»¥è¯æ˜å®ƒåœ¨ $L_1'$ ä¸­ä¹Ÿä¸èƒ½åˆ°è¾¾é˜Ÿé¦–ï¼Œå› ä¸º $C$ åœ¨ $L_1$ ä¸­æ— æ³•åˆ°è¾¾é˜Ÿé¦–çš„åŸå› ï¼ˆä¸ $L_1$ ä¸­æŸä¸ªå‰é©±å…ƒç´ èº«é«˜å·® > Dï¼‰åœ¨ $L_1'$ ä¸­ä¾ç„¶å­˜åœ¨ã€‚

**ç»“è®ºï¼š** $\text{Class}_2(L)$ åœ¨å¯¹ $\text{Class}_1(L)$ è¿›è¡Œä»»æ„é‡æ’åä¿æŒä¸å˜ï¼Œå³å…·æœ‰å°é—­æ€§ã€‚

## é€’å½’åº”ç”¨

ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ $\text{Class}_3(L)$ ä¸º $L_1 \setminus \text{Class}_2(L)$ ä¸­èƒ½åˆ°è¾¾é˜Ÿé¦–çš„å…ƒç´ é›†åˆï¼Œå¹¶è¯æ˜ $\text{Class}_3$ åœ¨é‡æ’ $\text{Class}_1$ å’Œ $\text{Class}_2$ åä¿æŒä¸å˜ã€‚

è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥å°†åºåˆ—åˆ’åˆ†ä¸ºä¸€ç³»åˆ—çš„ç­‰ä»·ç±» $\text{Class}_1, \text{Class}_2, \ldots, \text{Class}_k$ï¼Œæ»¡è¶³ï¼š
1. æ¯ä¸ªç±»å†…éƒ¨çš„å…ƒç´ å¯ä»¥ä»»æ„æ’åˆ—ï¼ˆé€šè¿‡äº¤æ¢ï¼‰
2. ç±»ä¹‹é—´çš„ç›¸å¯¹é¡ºåºå›ºå®šï¼ˆå› ä¸ºåä¸€ç±»çš„å…ƒç´ ä¸èƒ½è¶Šè¿‡å‰ä¸€ç±»çš„å…ƒç´ ï¼‰
3. å¯¹å‰ $i-1$ ä¸ªç±»è¿›è¡Œä»»æ„é‡æ’ä¸ä¼šæ”¹å˜ $\text{Class}_i$ çš„æˆå‘˜

å› æ­¤ï¼Œä¸ºäº†å¾—åˆ°å­—å…¸åºæœ€å°çš„åºåˆ—ï¼Œæˆ‘ä»¬åªéœ€ï¼š
1. æ‰¾å‡º $\text{Class}_1$ï¼Œå°†å…¶å…ƒç´ æŒ‰å‡åºæ’åˆ—
2. å¯¹å‰©ä½™åºåˆ—é€’å½’åº”ç”¨ç›¸åŒè¿‡ç¨‹

è¿™ä¸ªç­‰ä»·ç±»åˆ’åˆ†å®Œç¾æ•æ‰äº†äº¤æ¢çº¦æŸçš„æœ¬è´¨ç»“æ„ã€‚